
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annotations &#8212; Matplotlib 3.3.0rc1+229.g97785f2e6 documentation</title>
    <link rel="stylesheet" href="../../_static/mpl.css?v3.3.0rc1-229-g97785f2e6" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.0rc1+229.g97785f2e6 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Writing mathematical expressions" href="mathtext.html" />
    <link rel="prev" title="Text properties and layout" href="text_props.html" />
<link rel="top" title="Matplotlib 3.3.0rc1+229.g97785f2e6 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/devdocs/tutorials/text/annotations.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=Annotations&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>

<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.0rc1+229.g97785f2e6</span></div>
        <img src="../../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../../users/installing.html">Installation</a></li>
            <li><a href="../../contents.html">Documentation</a></li>
            <li><a href="../../gallery/index.html">Examples</a></li>
            <li><a href="../index.html">Tutorials</a></li>
            <li><a href="../../devel/index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mathtext.html" title="Writing mathematical expressions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="text_props.html" title="Text properties and layout"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../users/index.html" >User's Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Annotations</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Annotations</a><ul>
<li><a class="reference internal" href="#basic-annotation">Basic annotation</a></li>
<li><a class="reference internal" href="#advanced-annotations">Advanced Annotations</a><ul>
<li><a class="reference internal" href="#annotating-with-text-with-box">Annotating with Text with Box</a></li>
<li><a class="reference internal" href="#annotating-with-arrow">Annotating with Arrow</a></li>
<li><a class="reference internal" href="#placing-artist-at-the-anchored-location-of-the-axes">Placing Artist at the anchored location of the Axes</a></li>
<li><a class="reference internal" href="#using-complex-coordinates-with-annotations">Using Complex Coordinates with Annotations</a></li>
<li><a class="reference internal" href="#using-connectionpatch">Using ConnectionPatch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-topics">Advanced Topics</a><ul>
<li><a class="reference internal" href="#zoom-effect-between-axes">Zoom effect between Axes</a></li>
<li><a class="reference internal" href="#define-custom-boxstyle">Define Custom BoxStyle</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../../users/index.html">User's Guide</a><ul>
  <li><a href="../index.html">Tutorials</a><ul>
      <li>Previous: <a href="text_props.html" title="previous chapter">Text properties and layout</a></li>
      <li>Next: <a href="mathtext.html" title="next chapter">Writing mathematical expressions</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/tutorials/text/annotations.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-tutorials-text-annotations-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="annotations">
<span id="sphx-glr-tutorials-text-annotations-py"></span><h1><a class="toc-backref" href="#id22">Annotations</a><a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h1>
<p>Annotating text with Matplotlib.</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#annotations" id="id22">Annotations</a><ul>
<li><a class="reference internal" href="#basic-annotation" id="id23">Basic annotation</a></li>
<li><a class="reference internal" href="#advanced-annotations" id="id24">Advanced Annotations</a><ul>
<li><a class="reference internal" href="#annotating-with-text-with-box" id="id25">Annotating with Text with Box</a></li>
<li><a class="reference internal" href="#annotating-with-arrow" id="id26">Annotating with Arrow</a></li>
<li><a class="reference internal" href="#placing-artist-at-the-anchored-location-of-the-axes" id="id27">Placing Artist at the anchored location of the Axes</a></li>
<li><a class="reference internal" href="#using-complex-coordinates-with-annotations" id="id28">Using Complex Coordinates with Annotations</a></li>
<li><a class="reference internal" href="#using-connectionpatch" id="id29">Using ConnectionPatch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-topics" id="id30">Advanced Topics</a><ul>
<li><a class="reference internal" href="#zoom-effect-between-axes" id="id31">Zoom effect between Axes</a></li>
<li><a class="reference internal" href="#define-custom-boxstyle" id="id32">Define Custom BoxStyle</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="basic-annotation">
<span id="annotations-tutorial"></span><h2><a class="toc-backref" href="#id23">Basic annotation</a><a class="headerlink" href="#basic-annotation" title="Permalink to this headline">¶</a></h2>
<p>The uses of the basic <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.text.html#matplotlib.pyplot.text" title="matplotlib.pyplot.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> will place text
at an arbitrary position on the Axes.  A common use case of text is to
annotate some feature of the plot, and the
<a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.annotate.html#matplotlib.axes.Axes.annotate" title="matplotlib.axes.Axes.annotate"><code class="xref py py-func docutils literal notranslate"><span class="pre">annotate()</span></code></a> method provides helper functionality
to make annotations easy.  In an annotation, there are two points to
consider: the location being annotated represented by the argument
<em>xy</em> and the location of the text <em>xytext</em>.  Both of these
arguments are <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code> tuples.</p>
<div class="figure align-center" id="id1">
<a class="reference external image-reference" href="../../gallery/pyplots/annotation_basic.html"><img alt="../../_images/sphx_glr_annotation_basic_0011.png" src="../../_images/sphx_glr_annotation_basic_0011.png" style="width: 320.0px; height: 240.0px;" /></a>
<p class="caption"><span class="caption-text">Annotation Basic</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>In this example, both the <em>xy</em> (arrow tip) and <em>xytext</em> locations
(text location) are in data coordinates.  There are a variety of other
coordinate systems one can choose -- you can specify the coordinate
system of <em>xy</em> and <em>xytext</em> with one of the following strings for
<em>xycoords</em> and <em>textcoords</em> (default is 'data')</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">argument</th>
<th class="head">coordinate system</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>'figure points'</td>
<td>points from the lower left corner of the figure</td>
</tr>
<tr class="row-odd"><td>'figure pixels'</td>
<td>pixels from the lower left corner of the figure</td>
</tr>
<tr class="row-even"><td>'figure fraction'</td>
<td>(0, 0) is lower left of figure and (1, 1) is upper right</td>
</tr>
<tr class="row-odd"><td>'axes points'</td>
<td>points from lower left corner of axes</td>
</tr>
<tr class="row-even"><td>'axes pixels'</td>
<td>pixels from lower left corner of axes</td>
</tr>
<tr class="row-odd"><td>'axes fraction'</td>
<td>(0, 0) is lower left of axes and (1, 1) is upper right</td>
</tr>
<tr class="row-even"><td>'data'</td>
<td>use the axes data coordinate system</td>
</tr>
</tbody>
</table>
<p>For example to place the text coordinates in fractional axes
coordinates, one could do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;local max&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">,</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.05</span><span class="p">),</span>
            <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>For physical coordinate systems (points or pixels) the origin is the
bottom-left of the figure or axes.</p>
<p>Optionally, you can enable drawing of an arrow from the text to the annotated
point by giving a dictionary of arrow properties in the optional keyword
argument <em>arrowprops</em>.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>arrowprops</em> key</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>width</td>
<td>the width of the arrow in points</td>
</tr>
<tr class="row-odd"><td>frac</td>
<td>the fraction of the arrow length occupied by the head</td>
</tr>
<tr class="row-even"><td>headwidth</td>
<td>the width of the base of the arrow head in points</td>
</tr>
<tr class="row-odd"><td>shrink</td>
<td>move the tip and base some percent away from
the annotated point and text</td>
</tr>
<tr class="row-even"><td>**kwargs</td>
<td>any key for <a class="reference internal" href="../../api/_as_gen/matplotlib.patches.Polygon.html#matplotlib.patches.Polygon" title="matplotlib.patches.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.Polygon</span></code></a>,
e.g., <code class="docutils literal notranslate"><span class="pre">facecolor</span></code></td>
</tr>
</tbody>
</table>
<p>In the example below, the <em>xy</em> point is in native coordinates
(<em>xycoords</em> defaults to 'data').  For a polar axes, this is in
(theta, radius) space.  The text in this example is placed in the
fractional figure coordinate system. <a class="reference internal" href="../../api/text_api.html#matplotlib.text.Text" title="matplotlib.text.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.text.Text</span></code></a>
keyword arguments like <em>horizontalalignment</em>, <em>verticalalignment</em> and
<em>fontsize</em> are passed from <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.annotate.html#matplotlib.axes.Axes.annotate" title="matplotlib.axes.Axes.annotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">annotate</span></code></a> to the
<code class="docutils literal notranslate"><span class="pre">Text</span></code> instance.</p>
<div class="figure align-center" id="id2">
<a class="reference external image-reference" href="../../gallery/pyplots/annotation_polar.html"><img alt="../../_images/sphx_glr_annotation_polar_0011.png" src="../../_images/sphx_glr_annotation_polar_0011.png" style="width: 320.0px; height: 240.0px;" /></a>
<p class="caption"><span class="caption-text">Annotation Polar</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>For more on all the wild and wonderful things you can do with
annotations, including fancy arrows, see <a class="reference internal" href="#plotting-guide-annotation"><span class="std std-ref">Advanced Annotations</span></a>
and <a class="reference internal" href="../../gallery/text_labels_and_annotations/annotation_demo.html"><span class="doc">Annotating Plots</span></a>.</p>
<p>Do not proceed unless you have already read <a class="reference internal" href="#annotations-tutorial"><span class="std std-ref">Basic annotation</span></a>,
<a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.text.html#matplotlib.pyplot.text" title="matplotlib.pyplot.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> and <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.annotate.html#matplotlib.pyplot.annotate" title="matplotlib.pyplot.annotate"><code class="xref py py-func docutils literal notranslate"><span class="pre">annotate()</span></code></a>!</p>
</div>
<div class="section" id="advanced-annotations">
<span id="plotting-guide-annotation"></span><h2><a class="toc-backref" href="#id24">Advanced Annotations</a><a class="headerlink" href="#advanced-annotations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="annotating-with-text-with-box">
<h3><a class="toc-backref" href="#id25">Annotating with Text with Box</a><a class="headerlink" href="#annotating-with-text-with-box" title="Permalink to this headline">¶</a></h3>
<p>Let's start with a simple example.</p>
<div class="figure align-center" id="id3">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_text_arrow.html"><img alt="../../_images/sphx_glr_annotate_text_arrow_0011.png" src="../../_images/sphx_glr_annotate_text_arrow_0011.png" style="width: 250.0px; height: 250.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Text Arrow</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.text.html#matplotlib.axes.Axes.text" title="matplotlib.axes.Axes.text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">text</span></code></a> takes a <em>bbox</em> keyword argument, which draws a box around the
text:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
    <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Direction&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
    <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;rarrow,pad=0.3&quot;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;cyan&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>The patch object associated with the text can be accessed by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bb</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_bbox_patch</span><span class="p">()</span>
</pre></div>
</div>
<p>The return value is a <a class="reference internal" href="../../api/_as_gen/matplotlib.patches.FancyBboxPatch.html#matplotlib.patches.FancyBboxPatch" title="matplotlib.patches.FancyBboxPatch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FancyBboxPatch</span></code></a>; patch properties
(facecolor, edgewidth, etc.) can be accessed and modified as usual.
<a class="reference internal" href="../../api/_as_gen/matplotlib.patches.FancyBboxPatch.html#matplotlib.patches.FancyBboxPatch.set_boxstyle" title="matplotlib.patches.FancyBboxPatch.set_boxstyle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FancyBboxPatch.set_boxstyle</span></code></a> sets the box shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bb</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">&quot;rarrow&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
</pre></div>
</div>
<p>The arguments are the name of the box style with its attributes as
keyword arguments. Currently, following box styles are implemented.</p>
<blockquote>
<div><table border="1" class="docutils align-default">
<colgroup>
<col width="20%" />
<col width="28%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Circle</td>
<td><code class="docutils literal notranslate"><span class="pre">circle</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-odd"><td>DArrow</td>
<td><code class="docutils literal notranslate"><span class="pre">darrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-even"><td>LArrow</td>
<td><code class="docutils literal notranslate"><span class="pre">larrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-odd"><td>RArrow</td>
<td><code class="docutils literal notranslate"><span class="pre">rarrow</span></code></td>
<td>pad=0.3</td>
</tr>
<tr class="row-even"><td>Round</td>
<td><code class="docutils literal notranslate"><span class="pre">round</span></code></td>
<td>pad=0.3,rounding_size=None</td>
</tr>
<tr class="row-odd"><td>Round4</td>
<td><code class="docutils literal notranslate"><span class="pre">round4</span></code></td>
<td>pad=0.3,rounding_size=None</td>
</tr>
<tr class="row-even"><td>Roundtooth</td>
<td><code class="docutils literal notranslate"><span class="pre">roundtooth</span></code></td>
<td>pad=0.3,tooth_size=None</td>
</tr>
<tr class="row-odd"><td>Sawtooth</td>
<td><code class="docutils literal notranslate"><span class="pre">sawtooth</span></code></td>
<td>pad=0.3,tooth_size=None</td>
</tr>
<tr class="row-even"><td>Square</td>
<td><code class="docutils literal notranslate"><span class="pre">square</span></code></td>
<td>pad=0.3</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="figure align-center" id="id4">
<a class="reference external image-reference" href="../../gallery/shapes_and_collections/fancybox_demo.html"><img alt="../../_images/sphx_glr_fancybox_demo_0011.png" src="../../_images/sphx_glr_fancybox_demo_0011.png" style="width: 133.0px; height: 376.5px;" /></a>
<p class="caption"><span class="caption-text">Fancybox Demo</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>Note that the attribute arguments can be specified within the style
name with separating comma (this form can be used as &quot;boxstyle&quot; value
of bbox argument when initializing the text instance)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bb</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">&quot;rarrow,pad=0.6&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="annotating-with-arrow">
<h3><a class="toc-backref" href="#id26">Annotating with Arrow</a><a class="headerlink" href="#annotating-with-arrow" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.annotate.html#matplotlib.axes.Axes.annotate" title="matplotlib.axes.Axes.annotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">annotate</span></code></a> draws an arrow connecting two points in an axes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Annotation&quot;</span><span class="p">,</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span>
            <span class="p">)</span>
</pre></div>
</div>
<p>This annotates a point at <em>xy</em> in the given coordinate (<em>xycoords</em>)
with the text at <em>xytext</em> given in <em>textcoords</em>. Often, the
annotated point is specified in the <em>data</em> coordinate and the annotating
text in <em>offset points</em>.
See <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.annotate.html#matplotlib.axes.Axes.annotate" title="matplotlib.axes.Axes.annotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">annotate</span></code></a> for available coordinate systems.</p>
<p>An arrow connecting <em>xy</em> to <em>xytext</em> can be optionally drawn by
specifying the <em>arrowprops</em> argument. To draw only an arrow, use
empty string as the first argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span>
                            <span class="n">connectionstyle</span><span class="o">=</span><span class="s2">&quot;arc3&quot;</span><span class="p">),</span>
            <span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id5">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple01.html"><img alt="../../_images/sphx_glr_annotate_simple01_0011.png" src="../../_images/sphx_glr_annotate_simple01_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Simple01</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>The arrow is drawn as follows:</p>
<ol class="arabic simple">
<li>A path connecting the two points is created, as specified by the
<em>connectionstyle</em> parameter.</li>
<li>The path is clipped to avoid patches <em>patchA</em> and <em>patchB</em>, if these are
set.</li>
<li>The path is further shrunk by <em>shrinkA</em> and <em>shrinkB</em> (in pixels).</li>
<li>The path is transmuted to an arrow patch, as specified by the <em>arrowstyle</em>
parameter.</li>
</ol>
<div class="figure align-center" id="id6">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_explain.html"><img alt="../../_images/sphx_glr_annotate_explain_0011.png" src="../../_images/sphx_glr_annotate_explain_0011.png" style="width: 320.0px; height: 240.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Explain</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>The creation of the connecting path between two points is controlled by
<code class="docutils literal notranslate"><span class="pre">connectionstyle</span></code> key and the following styles are available.</p>
<blockquote>
<div><table border="1" class="docutils align-default">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">angle</span></code></td>
<td>angleA=90,angleB=0,rad=0.0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">angle3</span></code></td>
<td>angleA=90,angleB=0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">arc</span></code></td>
<td>angleA=0,angleB=0,armA=None,armB=None,rad=0.0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">arc3</span></code></td>
<td>rad=0.0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">bar</span></code></td>
<td>armA=0.0,armB=0.0,fraction=0.3,angle=None</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Note that &quot;3&quot; in <code class="docutils literal notranslate"><span class="pre">angle3</span></code> and <code class="docutils literal notranslate"><span class="pre">arc3</span></code> is meant to indicate that the
resulting path is a quadratic spline segment (three control
points). As will be discussed below, some arrow style options can only
be used when the connecting path is a quadratic spline.</p>
<p>The behavior of each connection style is (limitedly) demonstrated in the
example below. (Warning: The behavior of the <code class="docutils literal notranslate"><span class="pre">bar</span></code> style is currently not
well defined, it may be changed in the future).</p>
<div class="figure align-center" id="id7">
<a class="reference external image-reference" href="../../gallery/userdemo/connectionstyle_demo.html"><img alt="../../_images/sphx_glr_connectionstyle_demo_0011.png" src="../../_images/sphx_glr_connectionstyle_demo_0011.png" style="width: 400.0px; height: 240.0px;" /></a>
<p class="caption"><span class="caption-text">Connectionstyle Demo</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The connecting path (after clipping and shrinking) is then mutated to
an arrow patch, according to the given <code class="docutils literal notranslate"><span class="pre">arrowstyle</span></code>.</p>
<blockquote>
<div><table border="1" class="docutils align-default">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Attrs</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-</span></code></td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">-&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-[</span></code></td>
<td>widthB=1.0,lengthB=0.2,angleB=None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">|-|</span></code></td>
<td>widthA=1.0,widthB=1.0</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-|&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;-&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">&lt;|-</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;|-|&gt;</span></code></td>
<td>head_length=0.4,head_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">fancy</span></code></td>
<td>head_length=0.4,head_width=0.4,tail_width=0.4</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">simple</span></code></td>
<td>head_length=0.5,head_width=0.5,tail_width=0.2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">wedge</span></code></td>
<td>tail_width=0.3,shrink_factor=0.5</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="figure align-center" id="id8">
<a class="reference external image-reference" href="../../gallery/text_labels_and_annotations/fancyarrow_demo.html"><img alt="../../_images/sphx_glr_fancyarrow_demo_0011.png" src="../../_images/sphx_glr_fancyarrow_demo_0011.png" style="width: 266.5px; height: 250.0px;" /></a>
<p class="caption"><span class="caption-text">Fancyarrow Demo</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Some arrowstyles only work with connection styles that generate a
quadratic-spline segment. They are <code class="docutils literal notranslate"><span class="pre">fancy</span></code>, <code class="docutils literal notranslate"><span class="pre">simple</span></code>, and <code class="docutils literal notranslate"><span class="pre">wedge</span></code>.
For these arrow styles, you must use the &quot;angle3&quot; or &quot;arc3&quot; connection
style.</p>
<p>If the annotation string is given, the patchA is set to the bbox patch
of the text by default.</p>
<div class="figure align-center" id="id9">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple02.html"><img alt="../../_images/sphx_glr_annotate_simple02_0011.png" src="../../_images/sphx_glr_annotate_simple02_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Simple02</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>As with <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.text.html#matplotlib.axes.Axes.text" title="matplotlib.axes.Axes.text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">text</span></code></a>, a box around the text can be drawn using the <em>bbox</em>
argument.</p>
<div class="figure align-center" id="id10">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple03.html"><img alt="../../_images/sphx_glr_annotate_simple03_0011.png" src="../../_images/sphx_glr_annotate_simple03_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Simple03</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>By default, the starting point is set to the center of the text
extent.  This can be adjusted with <code class="docutils literal notranslate"><span class="pre">relpos</span></code> key value. The values
are normalized to the extent of the text. For example, (0, 0) means
lower-left corner and (1, 1) means top-right.</p>
<div class="figure align-center" id="id11">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple04.html"><img alt="../../_images/sphx_glr_annotate_simple04_0011.png" src="../../_images/sphx_glr_annotate_simple04_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Annotate Simple04</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="placing-artist-at-the-anchored-location-of-the-axes">
<h3><a class="toc-backref" href="#id27">Placing Artist at the anchored location of the Axes</a><a class="headerlink" href="#placing-artist-at-the-anchored-location-of-the-axes" title="Permalink to this headline">¶</a></h3>
<p>There are classes of artists that can be placed at an anchored
location in the Axes.  A common example is the legend.  This type
of artist can be created by using the <a class="reference internal" href="../../api/offsetbox_api.html#matplotlib.offsetbox.OffsetBox" title="matplotlib.offsetbox.OffsetBox"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OffsetBox</span></code></a> class. A few
predefined classes are available in <a class="reference internal" href="../../api/offsetbox_api.html#module-matplotlib.offsetbox" title="matplotlib.offsetbox"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib.offsetbox</span></code></a> and in
<a class="reference internal" href="../../api/_as_gen/mpl_toolkits.axes_grid1.anchored_artists.html#module-mpl_toolkits.axes_grid1.anchored_artists" title="mpl_toolkits.axes_grid1.anchored_artists"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.anchored_artists</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.offsetbox</span> <span class="kn">import</span> <span class="n">AnchoredText</span>
<span class="n">at</span> <span class="o">=</span> <span class="n">AnchoredText</span><span class="p">(</span><span class="s2">&quot;Figure 1a&quot;</span><span class="p">,</span>
                  <span class="n">prop</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span>
                  <span class="p">)</span>
<span class="n">at</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_boxstyle</span><span class="p">(</span><span class="s2">&quot;round,pad=0.,rounding_size=0.2&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">at</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center" id="id12">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box01.html"><img alt="../../_images/sphx_glr_anchored_box01_0011.png" src="../../_images/sphx_glr_anchored_box01_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Anchored Box01</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>The <em>loc</em> keyword has same meaning as in the legend command.</p>
<p>A simple application is when the size of the artist (or collection of
artists) is known in pixel size during the time of creation. For
example, If you want to draw a circle with fixed size of 20 pixel x 20
pixel (radius = 10 pixel), you can utilize
<code class="docutils literal notranslate"><span class="pre">AnchoredDrawingArea</span></code>. The instance is created with a size of the
drawing area (in pixels), and arbitrary artists can added to the
drawing area. Note that the extents of the artists that are added to
the drawing area are not related to the placement of the drawing
area itself. Only the initial size matters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpl_toolkits.axes_grid1.anchored_artists</span> <span class="kn">import</span> <span class="n">AnchoredDrawingArea</span>

<span class="n">ada</span> <span class="o">=</span> <span class="n">AnchoredDrawingArea</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                          <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ada</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">((</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="n">ada</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
<p>The artists that are added to the drawing area should not have a
transform set (it will be overridden) and the dimensions of those
artists are interpreted as a pixel coordinate, i.e., the radius of the
circles in above example are 10 pixels and 5 pixels, respectively.</p>
<div class="figure align-center" id="id13">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box02.html"><img alt="../../_images/sphx_glr_anchored_box02_0011.png" src="../../_images/sphx_glr_anchored_box02_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Anchored Box02</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>Sometimes, you want your artists to scale with the data coordinate (or
coordinates other than canvas pixels). You can use
<code class="docutils literal notranslate"><span class="pre">AnchoredAuxTransformBox</span></code> class. This is similar to
<code class="docutils literal notranslate"><span class="pre">AnchoredDrawingArea</span></code> except that the extent of the artist is
determined during the drawing time respecting the specified transform.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpl_toolkits.axes_grid1.anchored_artists</span> <span class="kn">import</span> <span class="n">AnchoredAuxTransformBox</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">AnchoredAuxTransformBox</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">el</span> <span class="o">=</span> <span class="n">Ellipse</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>  <span class="c1"># in data coordinates!</span>
<span class="n">box</span><span class="o">.</span><span class="n">drawing_area</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
</pre></div>
</div>
<p>The ellipse in the above example will have width and height
corresponding to 0.1 and 0.4 in data coordinates and will be
automatically scaled when the view limits of the axes change.</p>
<div class="figure align-center" id="id14">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box03.html"><img alt="../../_images/sphx_glr_anchored_box03_0011.png" src="../../_images/sphx_glr_anchored_box03_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Anchored Box03</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p>As in the legend, the bbox_to_anchor argument can be set.  Using the
HPacker and VPacker, you can have an arrangement(?) of artist as in the
legend (as a matter of fact, this is how the legend is created).</p>
<div class="figure align-center" id="id15">
<a class="reference external image-reference" href="../../gallery/userdemo/anchored_box04.html"><img alt="../../_images/sphx_glr_anchored_box04_0011.png" src="../../_images/sphx_glr_anchored_box04_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Anchored Box04</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>Note that unlike the legend, the <code class="docutils literal notranslate"><span class="pre">bbox_transform</span></code> is set
to IdentityTransform by default.</p>
</div>
<div class="section" id="using-complex-coordinates-with-annotations">
<h3><a class="toc-backref" href="#id28">Using Complex Coordinates with Annotations</a><a class="headerlink" href="#using-complex-coordinates-with-annotations" title="Permalink to this headline">¶</a></h3>
<p>The Annotation in matplotlib supports several types of coordinates as
described in <a class="reference internal" href="#annotations-tutorial"><span class="std std-ref">Basic annotation</span></a>. For an advanced user who wants
more control, it supports a few other options.</p>
<ol class="arabic">
<li><p class="first">A <a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Transform</span></code></a> instance.  For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">)</span>
</pre></div>
</div>
<p>is identical to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s2">&quot;axes fraction&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This allows annotating a point in another axes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">),</span> <span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">ax1</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span>
             <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="n">ax2</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span>
             <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p class="first">An <a class="reference internal" href="../../api/artist_api.html#matplotlib.artist.Artist" title="matplotlib.artist.Artist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Artist</span></code></a> instance. The <em>xy</em> value (or <em>xytext</em>) is interpreted as a
fractional coordinate of the bbox (return value of <em>get_window_extent</em>) of
the artist:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">an1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test 1&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
                  <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                  <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;round&quot;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">))</span>
<span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="p">,</span>  <span class="c1"># (1, 0.5) of the an1&#39;s bbox</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&quot;offset points&quot;</span><span class="p">,</span>
                  <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
                  <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;round&quot;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">),</span>
                  <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s2">&quot;-&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="figure align-center" id="id16">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord01.html"><img alt="../../_images/sphx_glr_annotate_simple_coord01_0011.png" src="../../_images/sphx_glr_annotate_simple_coord01_0011.png" style="width: 150.0px; height: 100.0px;" /></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>Note that you must ensure that the extent of the coordinate artist (<em>an1</em> in
above example) is determined before <em>an2</em> gets drawn. Usually, this means
that <em>an2</em> needs to be drawn after <em>an1</em>.</p>
</li>
<li><p class="first">A callable object that takes the renderer instance as single argument, and
returns either a <a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Transform</span></code></a> or a <a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.BboxBase" title="matplotlib.transforms.BboxBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BboxBase</span></code></a>.  The return value is then
handled as in (1), for transforms, or in (2), for bboxes.  For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="p">,</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&quot;offset points&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>is identical to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">an2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">an1</span><span class="o">.</span><span class="n">get_window_extent</span><span class="p">,</span>
                  <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&quot;offset points&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">A pair of coordinate specifications -- the first for the x-coordinate, and
the second is for the y-coordinate; e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">annotate</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;axes fraction&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Here, 0.5 is in data coordinates, and 1 is in normalized axes coordinates.
Each of the coordinate specifications can also be an artist or a transform.
For example,</p>
<div class="figure align-center" id="id17">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord02.html"><img alt="../../_images/sphx_glr_annotate_simple_coord02_0011.png" src="../../_images/sphx_glr_annotate_simple_coord02_0011.png" style="width: 150.0px; height: 100.0px;" /></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates 2</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p class="first">Sometimes, you want your annotation with some &quot;offset points&quot;, not from the
annotated point but from some other point.  <a class="reference internal" href="../../api/text_api.html#matplotlib.text.OffsetFrom" title="matplotlib.text.OffsetFrom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">text.OffsetFrom</span></code></a> is a helper
for such cases.</p>
<div class="figure align-center" id="id18">
<a class="reference external image-reference" href="../../gallery/userdemo/annotate_simple_coord03.html"><img alt="../../_images/sphx_glr_annotate_simple_coord03_0011.png" src="../../_images/sphx_glr_annotate_simple_coord03_0011.png" style="width: 150.0px; height: 100.0px;" /></a>
<p class="caption"><span class="caption-text">Annotation with Simple Coordinates 3</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p>You may take a look at this example
<a class="reference internal" href="../../gallery/text_labels_and_annotations/annotation_demo.html"><span class="doc">Annotating Plots</span></a>.</p>
</li>
</ol>
</div>
<div class="section" id="using-connectionpatch">
<h3><a class="toc-backref" href="#id29">Using ConnectionPatch</a><a class="headerlink" href="#using-connectionpatch" title="Permalink to this headline">¶</a></h3>
<p>ConnectionPatch is like an annotation without text. While <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.annotate.html#matplotlib.axes.Axes.annotate" title="matplotlib.axes.Axes.annotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">annotate</span></code></a>
is sufficient in most situations, ConnectionPatch is useful when you want to
connect points in different axes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">ConnectionPatch</span>
<span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">con</span> <span class="o">=</span> <span class="n">ConnectionPatch</span><span class="p">(</span><span class="n">xyA</span><span class="o">=</span><span class="n">xy</span><span class="p">,</span> <span class="n">coordsA</span><span class="o">=</span><span class="n">ax1</span><span class="o">.</span><span class="n">transData</span><span class="p">,</span>
                      <span class="n">xyB</span><span class="o">=</span><span class="n">xy</span><span class="p">,</span> <span class="n">coordsB</span><span class="o">=</span><span class="n">ax2</span><span class="o">.</span><span class="n">transData</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">con</span><span class="p">)</span>
</pre></div>
</div>
<p>The above code connects point <em>xy</em> in the data coordinates of <code class="docutils literal notranslate"><span class="pre">ax1</span></code> to
point <em>xy</em> in the data coordinates of <code class="docutils literal notranslate"><span class="pre">ax2</span></code>. Here is a simple example.</p>
<div class="figure align-center" id="id19">
<a class="reference external image-reference" href="../../gallery/userdemo/connect_simple01.html"><img alt="../../_images/sphx_glr_connect_simple01_0011.png" src="../../_images/sphx_glr_connect_simple01_0011.png" style="width: 300.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Connect Simple01</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<p>Here, we added the ConnectionPatch to the <em>figure</em> (with <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_artist" title="matplotlib.figure.Figure.add_artist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_artist</span></code></a>)
rather than to either axes: this ensures that it is drawn on top of both axes,
and is also necessary if using <a class="reference internal" href="../intermediate/constrainedlayout_guide.html"><span class="doc">constrained_layout</span></a> for positioning the axes.</p>
</div>
</div>
<div class="section" id="advanced-topics">
<h2><a class="toc-backref" href="#id30">Advanced Topics</a><a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="zoom-effect-between-axes">
<h3><a class="toc-backref" href="#id31">Zoom effect between Axes</a><a class="headerlink" href="#zoom-effect-between-axes" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.inset_locator</span></code> defines some patch classes useful for
interconnecting two axes. Understanding the code requires some knowledge of
Matplotlib's transform system.</p>
<div class="figure align-center" id="id20">
<a class="reference external image-reference" href="../../gallery/subplots_axes_and_figures/axes_zoom_effect.html"><img alt="../../_images/sphx_glr_axes_zoom_effect_0011.png" src="../../_images/sphx_glr_axes_zoom_effect_0011.png" style="width: 250.0px; height: 250.0px;" /></a>
<p class="caption"><span class="caption-text">Axes Zoom Effect</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="define-custom-boxstyle">
<h3><a class="toc-backref" href="#id32">Define Custom BoxStyle</a><a class="headerlink" href="#define-custom-boxstyle" title="Permalink to this headline">¶</a></h3>
<p>You can use a custom box style. The value for the <code class="docutils literal notranslate"><span class="pre">boxstyle</span></code> can be a
callable object in the following forms.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">mutation_size</span><span class="p">,</span>
             <span class="n">aspect_ratio</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Given the location and size of the box, return the path of</span>
<span class="sd">    the box around it.</span>

<span class="sd">      - *x0*, *y0*, *width*, *height* : location and size of the box</span>
<span class="sd">      - *mutation_size* : a reference scale for the mutation.</span>
<span class="sd">      - *aspect_ratio* : aspect-ratio for the mutation.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="n">path</span>
</pre></div>
</div>
<p>Here is a complete example.</p>
<div class="figure align-center" id="id21">
<a class="reference external image-reference" href="../../gallery/userdemo/custom_boxstyle01.html"><img alt="../../_images/sphx_glr_custom_boxstyle01_0011.png" src="../../_images/sphx_glr_custom_boxstyle01_0011.png" style="width: 150.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Custom Boxstyle01</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
<p>Similarly, you can define a custom ConnectionStyle and a custom ArrowStyle.
See the source code of <code class="docutils literal notranslate"><span class="pre">lib/matplotlib/patches.py</span></code> and check
how each style class is defined.</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-text-annotations-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<a class="reference download internal" download="" href="../../_downloads/0380af02e4c7a1a8441786fc67ecd5ef/annotations.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">annotations.py</span></code></a></div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<a class="reference download internal" download="" href="../../_downloads/5af196155c05148b1de35880898c8f8a/annotations.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">annotations.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature">Keywords: matplotlib code example, codex, python plot, pyplot
<a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Jul 12, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.
Doc version v3.3.0rc1-229-g97785f2e6.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>