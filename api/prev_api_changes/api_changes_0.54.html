
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changes for 0.54 &#8212; Matplotlib 3.3.0rc1+229.g97785f2e6 documentation</title>
    <link rel="stylesheet" href="../../_static/mpl.css?v3.3.0rc1-229-g97785f2e6" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.0rc1+229.g97785f2e6 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Changes for 0.50" href="api_changes_0.50.html" />
    <link rel="prev" title="Changes for 0.54.3" href="api_changes_0.54.3.html" />
<link rel="top" title="Matplotlib 3.3.0rc1+229.g97785f2e6 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/devdocs/api/prev_api_changes/api_changes_0.54.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=Changes%20for%200.54&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>

<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.0rc1+229.g97785f2e6</span></div>
        <img src="../../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../../users/installing.html">Installation</a></li>
            <li><a href="../../contents.html">Documentation</a></li>
            <li><a href="../../gallery/index.html">Examples</a></li>
            <li><a href="../../tutorials/index.html">Tutorials</a></li>
            <li><a href="../../devel/index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api_changes_0.50.html" title="Changes for 0.50"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api_changes_0.54.3.html" title="Changes for 0.54.3"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >API Overview</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../api_changes.html" >API Changes</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../api_changes_old.html" accesskey="U">Old API Changes</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Changes for 0.54</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changes for 0.54</a><ul>
<li><a class="reference internal" href="#matlab-interface">MATLAB interface</a><ul>
<li><a class="reference internal" href="#dpi">dpi</a></li>
<li><a class="reference internal" href="#pcolor-and-scatter">pcolor and scatter</a></li>
<li><a class="reference internal" href="#mathtext-spacing">mathtext spacing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#object-interface-application-programmers">Object interface - Application programmers</a><ul>
<li><a class="reference internal" href="#autoscaling">Autoscaling</a></li>
<li><a class="reference internal" href="#axes-creation">Axes creation</a></li>
<li><a class="reference internal" href="#artist-methods">Artist methods</a></li>
<li><a class="reference internal" href="#bounding-boxes">Bounding boxes</a></li>
<li><a class="reference internal" href="#object-constructors">Object constructors</a></li>
<li><a class="reference internal" href="#transformations">Transformations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Overview</a><ul>
  <li><a href="../api_changes.html">API Changes</a><ul>
  <li><a href="../api_changes_old.html">Old API Changes</a><ul>
      <li>Previous: <a href="api_changes_0.54.3.html" title="previous chapter">Changes for 0.54.3</a></li>
      <li>Next: <a href="api_changes_0.50.html" title="next chapter">Changes for 0.50</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/api/prev_api_changes/api_changes_0.54.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="changes-for-0-54">
<h1>Changes for 0.54<a class="headerlink" href="#changes-for-0-54" title="Permalink to this headline">¶</a></h1>
<div class="section" id="matlab-interface">
<h2>MATLAB interface<a class="headerlink" href="#matlab-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dpi">
<h3>dpi<a class="headerlink" href="#dpi" title="Permalink to this headline">¶</a></h3>
<p>Several of the backends used a PIXELS_PER_INCH hack that I added to
try and make images render consistently across backends.  This just
complicated matters.  So you may find that some font sizes and line
widths appear different than before.  Apologies for the
inconvenience. You should set the dpi to an accurate value for your
screen to get true sizes.</p>
</div>
<div class="section" id="pcolor-and-scatter">
<h3>pcolor and scatter<a class="headerlink" href="#pcolor-and-scatter" title="Permalink to this headline">¶</a></h3>
<p>There are two changes to the MATLAB interface API, both involving the
patch drawing commands.  For efficiency, pcolor and scatter have been
rewritten to use polygon collections, which are a new set of objects
from matplotlib.collections designed to enable efficient handling of
large collections of objects.  These new collections make it possible
to build large scatter plots or pcolor plots with no loops at the
python level, and are significantly faster than their predecessors.
The original pcolor and scatter functions are retained as
pcolor_classic and scatter_classic.</p>
<p>The return value from pcolor is a PolyCollection.  Most of the
properties that are available on rectangles or other patches are also
available on PolyCollections, e.g., you can say:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">scatter</span><span class="p">(</span><span class="n">blah</span><span class="p">,</span> <span class="n">blah</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">scatter</span><span class="p">(</span><span class="n">blah</span><span class="p">,</span> <span class="n">blah</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;facecolor&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Because the collection is a single object, you no longer need to loop
over the return value of scatter or pcolor to set properties for the
entire list.</p>
<p>If you want the different elements of a collection to vary on a
property, e.g., to have different line widths, see matplotlib.collections
for a discussion on how to set the properties as a sequence.</p>
<p>For scatter, the size argument is now in points^2 (the area of the
symbol in points) as in MATLAB and is not in data coords as before.
Using sizes in data coords caused several problems.  So you will need
to adjust your size arguments accordingly or use scatter_classic.</p>
</div>
<div class="section" id="mathtext-spacing">
<h3>mathtext spacing<a class="headerlink" href="#mathtext-spacing" title="Permalink to this headline">¶</a></h3>
<p>For reasons not clear to me (and which I'll eventually fix) spacing no
longer works in font groups.  However, I added three new spacing
commands which compensate for this '' (regular space), '/' (small
space) and 'hspace{frac}' where frac is a fraction of fontsize in
points.  You will need to quote spaces in font strings, is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\rm{Histogram\ of\ IQ:}\ \mu=100,\ \sigma=15$&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="object-interface-application-programmers">
<h2>Object interface - Application programmers<a class="headerlink" href="#object-interface-application-programmers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="autoscaling">
<h3>Autoscaling<a class="headerlink" href="#autoscaling" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The x and y axis instances no longer have autoscale view.  These are
handled by axes.autoscale_view</div></blockquote>
</div>
<div class="section" id="axes-creation">
<h3>Axes creation<a class="headerlink" href="#axes-creation" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>You should not instantiate your own Axes any more using the OO API.
Rather, create a Figure as before and in place of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Subplot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">111</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_axis</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<p>use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
</pre></div>
</div>
<p>That is, add_axis no longer exists and is replaced by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add_axes</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">axisbg</span><span class="o">=</span><span class="n">defaultcolor</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">add_subplot</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">axisbg</span><span class="o">=</span><span class="n">defaultcolor</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="artist-methods">
<h3>Artist methods<a class="headerlink" href="#artist-methods" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>If you define your own Artists, you need to rename the _draw method
to draw</div></blockquote>
</div>
<div class="section" id="bounding-boxes">
<h3>Bounding boxes<a class="headerlink" href="#bounding-boxes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>matplotlib.transforms.Bound2D is replaced by
matplotlib.transforms.Bbox.  If you want to construct a bbox from
left, bottom, width, height (the signature for Bound2D), use
matplotlib.transforms.lbwh_to_bbox, as in</p>
<blockquote>
<div>bbox = clickBBox = lbwh_to_bbox(left, bottom, width, height)</div></blockquote>
<p>The Bbox has a different API than the Bound2D.  e.g., if you want to
get the width and height of the bbox</p>
<blockquote>
<div><dl class="docutils">
<dt>OLD::</dt><dd>width  = fig.bbox.x.interval()
height = fig.bbox.y.interval()</dd>
<dt>New::</dt><dd>width  = fig.bbox.width()
height = fig.bbox.height()</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="object-constructors">
<h3>Object constructors<a class="headerlink" href="#object-constructors" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>You no longer pass the bbox, dpi, or transforms to the various
Artist constructors.  The old way or creating lines and rectangles
was cumbersome because you had to pass so many attributes to the
Line2D and Rectangle classes not related directly to the geometry
and properties of the object.  Now default values are added to the
object when you call axes.add_line or axes.add_patch, so they are
hidden from the user.</p>
<p>If you want to define a custom transformation on these objects, call
o.set_transform(trans) where trans is a Transformation instance.</p>
<p>In prior versions of you wanted to add a custom line in data coords,
you would have to do</p>
<blockquote>
<div><dl class="docutils">
<dt>l =  Line2D(dpi, bbox, x, y,</dt><dd>color = color,
transx = transx,
transy = transy,
)</dd>
</dl>
</div></blockquote>
<p>now all you need is</p>
<blockquote>
<div>l =  Line2D(x, y, color=color)</div></blockquote>
<p>and the axes will set the transformation for you (unless you have
set your own already, in which case it will eave it unchanged)</p>
</div></blockquote>
</div>
<div class="section" id="transformations">
<h3>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The entire transformation architecture has been rewritten.
Previously the x and y transformations where stored in the xaxis and
yaxis instances.  The problem with this approach is it only allows
for separable transforms (where the x and y transformations don't
depend on one another).  But for cases like polar, they do.  Now
transformations operate on x,y together.  There is a new base class
matplotlib.transforms.Transformation and two concrete
implementations, matplotlib.transforms.SeparableTransformation and
matplotlib.transforms.Affine.  The SeparableTransformation is
constructed with the bounding box of the input (this determines the
rectangular coordinate system of the input, i.e., the x and y view
limits), the bounding box of the display, and possibly nonlinear
transformations of x and y.  The 2 most frequently used
transformations, data coordinates -&gt; display and axes coordinates -&gt;
display are available as ax.transData and ax.transAxes.  See
alignment_demo.py which uses axes coords.</p>
<p>Also, the transformations should be much faster now, for two reasons</p>
<blockquote>
<div><ul>
<li><p class="first">they are written entirely in extension code</p>
</li>
<li><p class="first">because they operate on x and y together, they can do the entire
transformation in one loop.  Earlier I did something along the
lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xt</span> <span class="o">=</span> <span class="n">sx</span><span class="o">*</span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">tx</span>
<span class="n">yt</span> <span class="o">=</span> <span class="n">sy</span><span class="o">*</span><span class="n">func</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">ty</span>
</pre></div>
</div>
<p>Although this was done in numerix, it still involves 6 length(x)
for-loops (the multiply, add, and function evaluation each for x
and y).  Now all of that is done in a single pass.</p>
</li>
</ul>
</div></blockquote>
<p>If you are using transformations and bounding boxes to get the
cursor position in data coordinates, the method calls are a little
different now.  See the updated examples/coords_demo.py which shows
you how to do this.</p>
<p>Likewise, if you are using the artist bounding boxes to pick items
on the canvas with the GUI, the bbox methods are somewhat
different.  You will need to see the updated
examples/object_picker.py.</p>
<p>See unit/transforms_unit.py for many examples using the new
transformations.</p>
</div></blockquote>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Jul 12, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.
Doc version v3.3.0rc1-229-g97785f2e6.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>