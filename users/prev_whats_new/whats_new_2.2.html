
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New in Matplotlib 2.2 &#8212; Matplotlib 3.3.0rc1+229.g97785f2e6 documentation</title>
    <link rel="stylesheet" href="../../_static/mpl.css?v3.3.0rc1-229-g97785f2e6" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.0rc1+229.g97785f2e6 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="New in Matplotlib 2.1.0" href="whats_new_2.1.0.html" />
    <link rel="prev" title="New in Matplotlib 3.0" href="whats_new_3.0.html" />
<link rel="top" title="Matplotlib 3.3.0rc1+229.g97785f2e6 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/devdocs/users/prev_whats_new/whats_new_2.2.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=New%20in%20Matplotlib%202.2&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>

<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.0rc1+229.g97785f2e6</span></div>
        <img src="../../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../installing.html">Installation</a></li>
            <li><a href="../../contents.html">Documentation</a></li>
            <li><a href="../../gallery/index.html">Examples</a></li>
            <li><a href="../../tutorials/index.html">Tutorials</a></li>
            <li><a href="../../devel/index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="whats_new_2.1.0.html" title="New in Matplotlib 2.1.0"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="whats_new_3.0.html" title="New in Matplotlib 3.0"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >User's Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../whats_new_old.html" accesskey="U">Previous What's New</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">New in Matplotlib 2.2</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">New in Matplotlib 2.2</a><ul>
<li><a class="reference internal" href="#constrained-layout-manager">Constrained Layout Manager</a><ul>
<li><a class="reference internal" href="#new-plt-figure-and-plt-subplots-kwarg-constrained-layout">New <code class="docutils literal notranslate"><span class="pre">plt.figure</span></code> and <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code> kwarg: <code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code></a></li>
<li><a class="reference internal" href="#new-ax-set-position-behaviour">New <code class="docutils literal notranslate"><span class="pre">ax.set_position</span></code> behaviour</a></li>
<li><a class="reference internal" href="#new-figure-kwarg-for-gridspec">New <code class="docutils literal notranslate"><span class="pre">figure</span></code> kwarg for <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#xlabels-and-ylabels-can-now-be-automatically-aligned">xlabels and ylabels can now be automatically aligned</a></li>
<li><a class="reference internal" href="#axes-legends-now-included-in-tight-bbox">Axes legends now included in tight_bbox</a></li>
<li><a class="reference internal" href="#cividis-colormap">Cividis colormap</a></li>
<li><a class="reference internal" href="#new-style-colorblind-friendly-color-cycle">New style colorblind-friendly color cycle</a></li>
<li><a class="reference internal" href="#support-for-numpy-datetime64">Support for numpy.datetime64</a></li>
<li><a class="reference internal" href="#writing-animations-with-pillow">Writing animations with Pillow</a></li>
<li><a class="reference internal" href="#slider-ui-widget-can-snap-to-discrete-values">Slider UI widget can snap to discrete values</a></li>
<li><a class="reference internal" href="#capstyle-and-joinstyle-attributes-added-to-collection"><code class="docutils literal notranslate"><span class="pre">capstyle</span></code> and <code class="docutils literal notranslate"><span class="pre">joinstyle</span></code> attributes added to <code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a></li>
<li><a class="reference internal" href="#pad-kwarg-added-to-ax-set-title"><em>pad</em> kwarg added to ax.set_title</a></li>
<li><a class="reference internal" href="#comparison-of-2-colors-in-matplotlib">Comparison of 2 colors in Matplotlib</a></li>
<li><a class="reference internal" href="#autoscaling-a-polar-plot-snaps-to-the-origin">Autoscaling a polar plot snaps to the origin</a></li>
<li><a class="reference internal" href="#pathlike-support">PathLike support</a></li>
<li><a class="reference internal" href="#axes-tick-params-can-set-gridline-properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.tick_params</span></code> can set gridline properties</a></li>
<li><a class="reference internal" href="#axes-imshow-clips-rgb-values-to-the-valid-range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.imshow</span></code> clips RGB values to the valid range</a></li>
<li><a class="reference internal" href="#properties-in-matplotlibrc-to-place-xaxis-and-yaxis-tick-labels">Properties in <code class="file docutils literal notranslate"><span class="pre">matplotlibrc</span></code> to place xaxis and yaxis tick labels</a></li>
<li><a class="reference internal" href="#pgi-bindings-for-gtk3">PGI bindings for gtk3</a></li>
<li><a class="reference internal" href="#cairo-rendering-for-qt-wx-and-tk-canvases">Cairo rendering for Qt, WX, and Tk canvases</a></li>
<li><a class="reference internal" href="#added-support-for-qt-in-new-toolmanager">Added support for QT in new ToolManager</a></li>
<li><a class="reference internal" href="#tkagg-backend-reworked-to-support-pypy">TkAgg backend reworked to support PyPy</a></li>
<li><a class="reference internal" href="#python-logging-library-used-for-debug-output">Python logging library used for debug output</a></li>
<li><a class="reference internal" href="#improved-repr-for-transforms">Improved <code class="xref py py-obj docutils literal notranslate"><span class="pre">repr</span></code> for <code class="xref py py-obj docutils literal notranslate"><span class="pre">Transform</span></code>s</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../index.html">User's Guide</a><ul>
  <li><a href="../whats_new_old.html">Previous What's New</a><ul>
      <li>Previous: <a href="whats_new_3.0.html" title="previous chapter">New in Matplotlib 3.0</a></li>
      <li>Next: <a href="whats_new_2.1.0.html" title="next chapter">New in Matplotlib 2.1.0</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/users/prev_whats_new/whats_new_2.2.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="new-in-matplotlib-2-2">
<span id="whats-new-2-2-0"></span><h1>New in Matplotlib 2.2<a class="headerlink" href="#new-in-matplotlib-2-2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="constrained-layout-manager">
<h2>Constrained Layout Manager<a class="headerlink" href="#constrained-layout-manager" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Constrained Layout is <strong>experimental</strong>.  The
behaviour and API are subject to change, or the whole functionality
may be removed without a deprecation period.</p>
</div>
<p>A new method to automatically decide spacing between subplots and their
organizing <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code> instances has been added.  It is meant to
replace the venerable <code class="docutils literal notranslate"><span class="pre">tight_layout</span></code> method.  It is invoked via
a new <code class="docutils literal notranslate"><span class="pre">constrained_layout=True</span></code> kwarg to
<a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure</span></code></a> or <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.subplots" title="matplotlib.figure.Figure.subplots"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subplots</span></code></a>.</p>
<p>There are new <a class="reference internal" href="../../api/matplotlib_configuration_api.html#matplotlib.rcParams" title="matplotlib.rcParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rcParams</span></code></a> for this package, and spacing can be
more finely tuned with the new <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.set_constrained_layout_pads" title="matplotlib.figure.Figure.set_constrained_layout_pads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_constrained_layout_pads</span></code></a>.</p>
<p>Features include:</p>
<blockquote>
<div><ul class="simple">
<li>Automatic spacing for subplots with a fixed-size padding in inches around
subplots and all their decorators, and space between as a fraction
of subplot size between subplots.</li>
<li>Spacing for <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.suptitle" title="matplotlib.figure.Figure.suptitle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">suptitle</span></code></a>, and colorbars that are attached to
more than one axes.</li>
<li>Nested <a class="reference internal" href="../../api/_as_gen/matplotlib.gridspec.GridSpec.html#matplotlib.gridspec.GridSpec" title="matplotlib.gridspec.GridSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GridSpec</span></code></a> layouts using <a class="reference internal" href="../../api/_as_gen/matplotlib.gridspec.GridSpecFromSubplotSpec.html#matplotlib.gridspec.GridSpecFromSubplotSpec" title="matplotlib.gridspec.GridSpecFromSubplotSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GridSpecFromSubplotSpec</span></code></a>.</li>
</ul>
<p>For more details and capabilities please see the new tutorial:
<a class="reference internal" href="../../tutorials/intermediate/constrainedlayout_guide.html"><span class="doc">Constrained Layout Guide</span></a></p>
</div></blockquote>
<p>Note the new API to access this:</p>
<div class="section" id="new-plt-figure-and-plt-subplots-kwarg-constrained-layout">
<h3>New <code class="docutils literal notranslate"><span class="pre">plt.figure</span></code> and <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code> kwarg: <code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code><a class="headerlink" href="#new-plt-figure-and-plt-subplots-kwarg-constrained-layout" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">figure()</span></code></a> and <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots" title="matplotlib.pyplot.subplots"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subplots()</span></code></a>
can now be called with <code class="docutils literal notranslate"><span class="pre">constrained_layout=True</span></code> kwarg to enable
constrained_layout.</p>
</div>
<div class="section" id="new-ax-set-position-behaviour">
<h3>New <code class="docutils literal notranslate"><span class="pre">ax.set_position</span></code> behaviour<a class="headerlink" href="#new-ax-set-position-behaviour" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.set_position.html#matplotlib.axes.Axes.set_position" title="matplotlib.axes.Axes.set_position"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.set_position</span></code></a> now makes the specified axis no
longer responsive to <code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code>, consistent with the idea that the
user wants to place an axis manually.</p>
<p>Internally, this means that old <code class="docutils literal notranslate"><span class="pre">ax.set_position</span></code> calls <em>inside</em> the library
are changed to private <code class="docutils literal notranslate"><span class="pre">ax._set_position</span></code> calls so that
<code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code> will still work with these axes.</p>
</div>
<div class="section" id="new-figure-kwarg-for-gridspec">
<h3>New <code class="docutils literal notranslate"><span class="pre">figure</span></code> kwarg for <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code><a class="headerlink" href="#new-figure-kwarg-for-gridspec" title="Permalink to this headline">¶</a></h3>
<p>In order to facilitate <code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code>, <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code> now accepts a
<code class="docutils literal notranslate"><span class="pre">figure</span></code> keyword.  This is backwards compatible, in that not supplying this
will simply cause <code class="docutils literal notranslate"><span class="pre">constrained_layout</span></code> to not operate on the subplots
orgainzed by this <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code> instance.  Routines that use <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code> (e.g.
<code class="docutils literal notranslate"><span class="pre">fig.subplots</span></code>) have been modified to pass the figure to <code class="docutils literal notranslate"><span class="pre">GridSpec</span></code>.</p>
</div>
</div>
<div class="section" id="xlabels-and-ylabels-can-now-be-automatically-aligned">
<h2>xlabels and ylabels can now be automatically aligned<a class="headerlink" href="#xlabels-and-ylabels-can-now-be-automatically-aligned" title="Permalink to this headline">¶</a></h2>
<p>Subplot axes <code class="docutils literal notranslate"><span class="pre">ylabels</span></code> can be misaligned horizontally if the tick labels
are very different widths.  The same can happen to <code class="docutils literal notranslate"><span class="pre">xlabels</span></code> if the
ticklabels are rotated on one subplot (for instance).  The new methods
on the <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="matplotlib.figure.Figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure</span></code></a> class: <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_xlabels" title="matplotlib.figure.Figure.align_xlabels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure.align_xlabels</span></code></a> and <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_ylabels" title="matplotlib.figure.Figure.align_ylabels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure.align_ylabels</span></code></a>
will now align these labels horizontally or vertically.  If the user only
wants to align some axes, a list of axes can be passed.  If no list is
passed, the algorithm looks at all the labels on the figure.</p>
<p>Only labels that have the same subplot locations are aligned.  i.e. the
ylabels are aligned only if the subplots are in the same column of the
subplot layout.</p>
<p>Alignment is persistent and automatic after these are called.</p>
<p>A convenience wrapper <a class="reference internal" href="../../api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.align_labels" title="matplotlib.figure.Figure.align_labels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure.align_labels</span></code></a> calls both functions at once.</p>
<p>(<a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-1.py">Source code</a>, <a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-1.png">png</a>, <a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-1.pdf">pdf</a>)</p>
<div class="figure align-default">
<img alt="../../_images/whats_new_2-2-1.png" src="../../_images/whats_new_2-2-1.png" />
</div>
</div>
<div class="section" id="axes-legends-now-included-in-tight-bbox">
<h2>Axes legends now included in tight_bbox<a class="headerlink" href="#axes-legends-now-included-in-tight-bbox" title="Permalink to this headline">¶</a></h2>
<p>Legends created via <code class="docutils literal notranslate"><span class="pre">ax.legend</span></code> can sometimes overspill the limits of
the axis.  Tools like <code class="docutils literal notranslate"><span class="pre">fig.tight_layout()</span></code> and
<code class="docutils literal notranslate"><span class="pre">fig.savefig(bbox_inches='tight')</span></code> would clip these legends.  A change
was made to include them in the <code class="docutils literal notranslate"><span class="pre">tight</span></code> calculations.</p>
</div>
<div class="section" id="cividis-colormap">
<h2>Cividis colormap<a class="headerlink" href="#cividis-colormap" title="Permalink to this headline">¶</a></h2>
<p>A new dark blue/yellow colormap named 'cividis' was added. Like
viridis, cividis is perceptually uniform and colorblind
friendly. However, cividis also goes a step further: not only is it
usable by colorblind users, it should actually look effectively
identical to colorblind and non-colorblind users. For more details
see <a class="reference external" href="https://doi.org/10.1371/journal.pone.0199239">Nuñez J, Anderton C, and Renslow R: &quot;Optimizing colormaps with consideration
for color vision deficiency to enable accurate interpretation of scientific data&quot;</a>.</p>
<p>(<a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-2.py">Source code</a>, <a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-2.png">png</a>, <a class="reference external" href="../../users/prev_whats_new/whats_new_2-2-2.pdf">pdf</a>)</p>
<div class="figure align-default">
<img alt="../../_images/whats_new_2-2-2.png" src="../../_images/whats_new_2-2-2.png" />
</div>
</div>
<div class="section" id="new-style-colorblind-friendly-color-cycle">
<h2>New style colorblind-friendly color cycle<a class="headerlink" href="#new-style-colorblind-friendly-color-cycle" title="Permalink to this headline">¶</a></h2>
<p>A new style defining a color cycle has been added,
tableau-colorblind10, to provide another option for
colorblind-friendly plots.  A demonstration of this new
style can be found in the <a class="reference external" href="https://matplotlib.org/gallery/style_sheets/style_sheets_reference.html">reference</a> of style sheets. To
load this color cycle in place of the default one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;tableau-colorblind10&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="support-for-numpy-datetime64">
<h2>Support for numpy.datetime64<a class="headerlink" href="#support-for-numpy-datetime64" title="Permalink to this headline">¶</a></h2>
<p>Matplotlib has supported <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> dates for a long time in
<a class="reference internal" href="../../api/dates_api.html#module-matplotlib.dates" title="matplotlib.dates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.dates</span></code></a>.  We
now support <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.datetime64</span></code> dates as well.  Anywhere that
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> could be used, <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.datetime64</span></code> can be used.  eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="s1">&#39;2005-02-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2005-02-02&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[h]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-animations-with-pillow">
<h2>Writing animations with Pillow<a class="headerlink" href="#writing-animations-with-pillow" title="Permalink to this headline">¶</a></h2>
<p>It is now possible to use Pillow as an animation writer.  Supported output
formats are currently gif (Pillow&gt;=3.4) and webp (Pillow&gt;=5.0).  Use e.g. as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.animation</span> <span class="kn">import</span> <span class="n">FuncAnimation</span><span class="p">,</span> <span class="n">PillowWriter</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
   <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">20</span><span class="p">])</span>
   <span class="k">return</span> <span class="p">[</span><span class="n">line</span><span class="p">]</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">anim</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;movie.gif&quot;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">PillowWriter</span><span class="p">(</span><span class="n">fps</span><span class="o">=</span><span class="mi">24</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="slider-ui-widget-can-snap-to-discrete-values">
<h2>Slider UI widget can snap to discrete values<a class="headerlink" href="#slider-ui-widget-can-snap-to-discrete-values" title="Permalink to this headline">¶</a></h2>
<p>The slider UI widget can take the optional argument <em>valstep</em>.  Doing so
forces the slider to take on only discrete values, starting from <em>valmin</em> and
counting up to <em>valmax</em> with steps of size <em>valstep</em>.</p>
<p>If <em>closedmax==True</em>, then the slider will snap to <em>valmax</em> as well.</p>
</div>
<div class="section" id="capstyle-and-joinstyle-attributes-added-to-collection">
<h2><code class="docutils literal notranslate"><span class="pre">capstyle</span></code> and <code class="docutils literal notranslate"><span class="pre">joinstyle</span></code> attributes added to <a class="reference internal" href="../../api/collections_api.html#matplotlib.collections.Collection" title="matplotlib.collections.Collection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a><a class="headerlink" href="#capstyle-and-joinstyle-attributes-added-to-collection" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../api/collections_api.html#matplotlib.collections.Collection" title="matplotlib.collections.Collection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a> class now has customizable <code class="docutils literal notranslate"><span class="pre">capstyle</span></code> and <code class="docutils literal notranslate"><span class="pre">joinstyle</span></code>
attributes. This allows the user for example to set the <code class="docutils literal notranslate"><span class="pre">capstyle</span></code> of
errorbars.</p>
</div>
<div class="section" id="pad-kwarg-added-to-ax-set-title">
<h2><em>pad</em> kwarg added to ax.set_title<a class="headerlink" href="#pad-kwarg-added-to-ax-set-title" title="Permalink to this headline">¶</a></h2>
<p>The method <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.set_title.html#matplotlib.axes.Axes.set_title" title="matplotlib.axes.Axes.set_title"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.set_title</span></code></a> now has a <em>pad</em> kwarg, that specifies the
distance from the top of an axes to where the title is drawn.  The units
of <em>pad</em> is points, and the default is the value of the (already-existing)
<code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=axes.titlepad#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;axes.titlepad&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">6.0</span></code>).</p>
</div>
<div class="section" id="comparison-of-2-colors-in-matplotlib">
<h2>Comparison of 2 colors in Matplotlib<a class="headerlink" href="#comparison-of-2-colors-in-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>As the colors in Matplotlib can be specified with a wide variety of ways, the
<a class="reference internal" href="../../api/_as_gen/matplotlib.colors.same_color.html#matplotlib.colors.same_color" title="matplotlib.colors.same_color"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.colors.same_color</span></code></a> method has been added which checks if
two <a class="reference internal" href="../../api/colors_api.html#module-matplotlib.colors" title="matplotlib.colors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">colors</span></code></a> are the same.</p>
</div>
<div class="section" id="autoscaling-a-polar-plot-snaps-to-the-origin">
<h2>Autoscaling a polar plot snaps to the origin<a class="headerlink" href="#autoscaling-a-polar-plot-snaps-to-the-origin" title="Permalink to this headline">¶</a></h2>
<p>Setting the limits automatically in a polar plot now snaps the radial limit
to zero if the automatic limit is nearby. This means plotting from zero doesn't
automatically scale to include small negative values on the radial axis.</p>
<p>The limits can still be set manually in the usual way using <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="matplotlib.axes.Axes.set_ylim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ylim</span></code></a>.</p>
</div>
<div class="section" id="pathlike-support">
<h2>PathLike support<a class="headerlink" href="#pathlike-support" title="Permalink to this headline">¶</a></h2>
<p>On Python 3.6+, <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.savefig.html#matplotlib.pyplot.savefig" title="matplotlib.pyplot.savefig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">savefig</span></code></a>, <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.imsave.html#matplotlib.pyplot.imsave" title="matplotlib.pyplot.imsave"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imsave</span></code></a>,
<a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.imread.html#matplotlib.pyplot.imread" title="matplotlib.pyplot.imread"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imread</span></code></a>, and animation writers now accept <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">os.PathLike</span></code></a>s
as input.</p>
</div>
<div class="section" id="axes-tick-params-can-set-gridline-properties">
<h2><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.tick_params.html#matplotlib.axes.Axes.tick_params" title="matplotlib.axes.Axes.tick_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.tick_params</span></code></a> can set gridline properties<a class="headerlink" href="#axes-tick-params-can-set-gridline-properties" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../api/axis_api.html#matplotlib.axis.Tick" title="matplotlib.axis.Tick"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tick</span></code></a> objects hold gridlines as well as the tick mark and its label.
<a class="reference internal" href="../../api/_as_gen/matplotlib.axis.Axis.set_tick_params.html#matplotlib.axis.Axis.set_tick_params" title="matplotlib.axis.Axis.set_tick_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axis.set_tick_params</span></code></a>, <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.tick_params.html#matplotlib.axes.Axes.tick_params" title="matplotlib.axes.Axes.tick_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.tick_params</span></code></a> and <a class="reference internal" href="../../api/_as_gen/matplotlib.pyplot.tick_params.html#matplotlib.pyplot.tick_params" title="matplotlib.pyplot.tick_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pyplot.tick_params</span></code></a>
now have keyword arguments 'grid_color', 'grid_alpha', 'grid_linewidth',
and 'grid_linestyle' for overriding the defaults in <a class="reference internal" href="../../api/matplotlib_configuration_api.html#matplotlib.rcParams" title="matplotlib.rcParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rcParams</span></code></a>:
'grid.color', etc.</p>
</div>
<div class="section" id="axes-imshow-clips-rgb-values-to-the-valid-range">
<h2><a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="matplotlib.axes.Axes.imshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.imshow</span></code></a> clips RGB values to the valid range<a class="headerlink" href="#axes-imshow-clips-rgb-values-to-the-valid-range" title="Permalink to this headline">¶</a></h2>
<p>When <a class="reference internal" href="../../api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="matplotlib.axes.Axes.imshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes.imshow</span></code></a> is passed an RGB or RGBA value with out-of-range
values, it now logs a warning and clips them to the valid range.
The old behaviour, wrapping back in to the range, often hid outliers
and made interpreting RGB images unreliable.</p>
</div>
<div class="section" id="properties-in-matplotlibrc-to-place-xaxis-and-yaxis-tick-labels">
<h2>Properties in <code class="file docutils literal notranslate"><span class="pre">matplotlibrc</span></code> to place xaxis and yaxis tick labels<a class="headerlink" href="#properties-in-matplotlibrc-to-place-xaxis-and-yaxis-tick-labels" title="Permalink to this headline">¶</a></h2>
<p>Introducing four new boolean properties in <code class="file docutils literal notranslate"><span class="pre">matplotlibrc</span></code> for default
positions of xaxis and yaxis tick labels, namely,
<code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=xtick.labeltop#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;xtick.labeltop&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>), <code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=xtick.labelbottom#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;xtick.labelbottom&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>), <code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=ytick.labelright#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;ytick.labelright&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) and
<code class="docutils literal notranslate"><a class="reference external" href="../../tutorials/introductory/customizing.html?highlight=ytick.labelleft#a-sample-matplotlibrc-file"><span class="pre">rcParams[&quot;ytick.labelleft&quot;]</span></a></code> (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>). These can also be changed in rcParams.</p>
</div>
<div class="section" id="pgi-bindings-for-gtk3">
<h2>PGI bindings for gtk3<a class="headerlink" href="#pgi-bindings-for-gtk3" title="Permalink to this headline">¶</a></h2>
<p>The GTK3 backends can now use <a class="reference external" href="https://pgi.readthedocs.io/en/latest/">PGI</a> instead of <a class="reference external" href="https://pygobject.readthedocs.io/en/latest/">PyGObject</a>.  PGI is a fairly
incomplete binding for GObject, thus its use is not recommended; its main
benefit is its availability on Travis (thus allowing CI testing for the gtk3agg
and gtk3cairo backends).</p>
<p>The binding selection rules are as follows:
- if <code class="docutils literal notranslate"><span class="pre">gi</span></code> has already been imported, use it; else
- if <code class="docutils literal notranslate"><span class="pre">pgi</span></code> has already been imported, use it; else
- if <code class="docutils literal notranslate"><span class="pre">gi</span></code> can be imported, use it; else
- if <code class="docutils literal notranslate"><span class="pre">pgi</span></code> can be imported, use it; else
- error out.</p>
<p>Thus, to force usage of PGI when both bindings are installed, import it first.</p>
</div>
<div class="section" id="cairo-rendering-for-qt-wx-and-tk-canvases">
<h2>Cairo rendering for Qt, WX, and Tk canvases<a class="headerlink" href="#cairo-rendering-for-qt-wx-and-tk-canvases" title="Permalink to this headline">¶</a></h2>
<p>The new <code class="docutils literal notranslate"><span class="pre">Qt4Cairo</span></code>, <code class="docutils literal notranslate"><span class="pre">Qt5Cairo</span></code>, <code class="docutils literal notranslate"><span class="pre">WXCairo</span></code>, and <code class="docutils literal notranslate"><span class="pre">TkCairo</span></code>
backends allow Qt, Wx, and Tk canvases to use Cairo rendering instead of
Agg.</p>
</div>
<div class="section" id="added-support-for-qt-in-new-toolmanager">
<h2>Added support for QT in new ToolManager<a class="headerlink" href="#added-support-for-qt-in-new-toolmanager" title="Permalink to this headline">¶</a></h2>
<p>Now it is possible to use the ToolManager with Qt5
For example</p>
<blockquote>
<div><p>import matplotlib</p>
<p>matplotlib.use('QT5AGG')
matplotlib.rcParams['toolbar'] = 'toolmanager'
import matplotlib.pyplot as plt</p>
<p>plt.plot([1,2,3])
plt.show()</p>
</div></blockquote>
<p>Treat the new Tool classes experimental for now, the API will likely change and perhaps the rcParam as well</p>
<p>The main example <a class="reference internal" href="../../gallery/user_interfaces/toolmanager_sgskip.html"><span class="doc">Tool Manager</span></a> shows more
details, just adjust the header to use QT instead of GTK3</p>
</div>
<div class="section" id="tkagg-backend-reworked-to-support-pypy">
<h2>TkAgg backend reworked to support PyPy<a class="headerlink" href="#tkagg-backend-reworked-to-support-pypy" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.pypy.org/">PyPy</a> can now plot using the TkAgg backend, supported on PyPy 5.9
and greater (both PyPy for python 2.7 and PyPy for python 3.5).</p>
</div>
<div class="section" id="python-logging-library-used-for-debug-output">
<h2>Python logging library used for debug output<a class="headerlink" href="#python-logging-library-used-for-debug-output" title="Permalink to this headline">¶</a></h2>
<p>Matplotlib has in the past (sporadically) used an internal
verbose-output reporter.  This version converts those calls to using the
standard python <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logging</span></code></a> library.</p>
<p>Support for the old <a class="reference internal" href="../../api/matplotlib_configuration_api.html#matplotlib.rcParams" title="matplotlib.rcParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rcParams</span></code></a> <code class="docutils literal notranslate"><span class="pre">verbose.level</span></code> and <code class="docutils literal notranslate"><span class="pre">verbose.fileo</span></code> is
dropped.</p>
<p>The command-line options <code class="docutils literal notranslate"><span class="pre">--verbose-helpful</span></code> and <code class="docutils literal notranslate"><span class="pre">--verbose-debug</span></code> are
still accepted, but deprecated.  They are now equivalent to setting
<code class="docutils literal notranslate"><span class="pre">logging.INFO</span></code> and <code class="docutils literal notranslate"><span class="pre">logging.DEBUG</span></code>.</p>
<p>The logger's root name is <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and can be accessed from programs
as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">mlog</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Instructions for basic usage are in <a class="reference internal" href="../../faq/troubleshooting_faq.html#troubleshooting-faq"><span class="std std-ref">Troubleshooting</span></a> and for
developers in <a class="reference internal" href="../../devel/contributing.html#contributing"><span class="std std-ref">Contributing</span></a>.</p>
</div>
<div class="section" id="improved-repr-for-transforms">
<h2>Improved <a class="reference external" href="https://docs.python.org/3/library/functions.html#repr" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repr</span></code></a> for <a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Transform</span></code></a>s<a class="headerlink" href="#improved-repr-for-transforms" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../api/transformations.html#matplotlib.transforms.Transform" title="matplotlib.transforms.Transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Transform</span></code></a>s now indent their <a class="reference external" href="https://docs.python.org/3/library/functions.html#repr" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repr</span></code></a>s in a more legible manner:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">l</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([]);</span> <span class="n">l</span><span class="o">.</span><span class="n">get_transform</span><span class="p">()</span>
<span class="gh">Out[1]:</span>
<span class="go">CompositeGenericTransform(</span>
<span class="go">   TransformWrapper(</span>
<span class="go">      BlendedAffine2D(</span>
<span class="go">            IdentityTransform(),</span>
<span class="go">            IdentityTransform())),</span>
<span class="go">   CompositeGenericTransform(</span>
<span class="go">      BboxTransformFrom(</span>
<span class="go">            TransformedBbox(</span>
<span class="go">               Bbox(x0=-0.05500000000000001, y0=-0.05500000000000001, x1=0.05500000000000001, y1=0.05500000000000001),</span>
<span class="go">               TransformWrapper(</span>
<span class="go">                  BlendedAffine2D(</span>
<span class="go">                        IdentityTransform(),</span>
<span class="go">                        IdentityTransform())))),</span>
<span class="go">      BboxTransformTo(</span>
<span class="go">            TransformedBbox(</span>
<span class="go">               Bbox(x0=0.125, y0=0.10999999999999999, x1=0.9, y1=0.88),</span>
<span class="go">               BboxTransformTo(</span>
<span class="go">                  TransformedBbox(</span>
<span class="go">                        Bbox(x0=0.0, y0=0.0, x1=6.4, y1=4.8),</span>
<span class="go">                        Affine2D(</span>
<span class="go">                           [[ 100.    0.    0.]</span>
<span class="go">                           [   0.  100.    0.]</span>
<span class="go">                           [   0.    0.    1.]])))))))</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Jul 12, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.
Doc version v3.3.0rc1-229-g97785f2e6.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>