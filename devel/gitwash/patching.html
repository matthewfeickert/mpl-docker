
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Making a patch &#8212; Matplotlib 3.3.0rc1+229.g97785f2e6 documentation</title>
    <link rel="stylesheet" href="../../_static/mpl.css?v3.3.0rc1-229-g97785f2e6" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.0rc1+229.g97785f2e6 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Git for development" href="git_development.html" />
    <link rel="prev" title="Following the latest source" href="following_latest.html" />
<link rel="top" title="Matplotlib 3.3.0rc1+229.g97785f2e6 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/devdocs/devel/gitwash/patching.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=Making%20a%20patch&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>

<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.0rc1+229.g97785f2e6</span></div>
        <img src="../../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../../users/installing.html">Installation</a></li>
            <li><a href="../../contents.html">Documentation</a></li>
            <li><a href="../../gallery/index.html">Examples</a></li>
            <li><a href="../../tutorials/index.html">Tutorials</a></li>
            <li><a href="../index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="git_development.html" title="Git for development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="following_latest.html" title="Following the latest source"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >The Matplotlib Developers' Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Working with <em>Matplotlib</em> source code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Making a patch</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Making a patch</a><ul>
<li><a class="reference internal" href="#making-patches">Making patches</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#in-detail">In detail</a></li>
</ul>
</li>
<li><a class="reference internal" href="#moving-from-patching-to-development">Moving from patching to development</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../contents.html">Documentation overview</a><ul>
  <li><a href="../index.html">The Matplotlib Developers' Guide</a><ul>
  <li><a href="index.html">Working with <em>Matplotlib</em> source code</a><ul>
      <li>Previous: <a href="following_latest.html" title="previous chapter">Following the latest source</a></li>
      <li>Next: <a href="git_development.html" title="next chapter">Git for development</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../../_sources/devel/gitwash/patching.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="making-a-patch">
<h1>Making a patch<a class="headerlink" href="#making-a-patch" title="Permalink to this headline">¶</a></h1>
<p>You've discovered a bug or something else you want to change
in <a class="reference external" href="http://matplotlib.org">Matplotlib</a> .. — excellent!</p>
<p>You've worked out a way to fix it — even better!</p>
<p>You want to tell us about it — best of all!</p>
<p>The easiest way is to make a <em>patch</em> or set of patches.  Here
we explain how.  Making a patch is the simplest and quickest,
but if you're going to be doing anything more than simple
quick things, please consider following the
<a class="reference internal" href="git_development.html#git-development"><span class="std std-ref">Git for development</span></a> model instead.</p>
<div class="section" id="making-patches">
<span id="id1"></span><h2>Making patches<a class="headerlink" href="#making-patches" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># tell git who you are</span>
git config --global user.email you@yourdomain.example.com
git config --global user.name <span class="s2">&quot;Your Name Comes Here&quot;</span>
<span class="c1"># get the repository if you don&#39;t have it</span>
git clone git://github.com/matplotlib/matplotlib.git
<span class="c1"># make a branch for your patching</span>
<span class="nb">cd</span> matplotlib
git branch the-fix-im-thinking-of
git checkout the-fix-im-thinking-of
<span class="c1"># hack, hack, hack</span>
<span class="c1"># Tell git about any new files you&#39;ve made</span>
git add somewhere/tests/test_my_bug.py
<span class="c1"># commit work in progress as you go</span>
git commit -am <span class="s1">&#39;BF - added tests for Funny bug&#39;</span>
<span class="c1"># hack hack, hack</span>
git commit -am <span class="s1">&#39;BF - added fix for Funny bug&#39;</span>
<span class="c1"># make the patch files</span>
git format-patch -M -C master
</pre></div>
</div>
<p>Then, send the generated patch files to the <a class="reference external" href="https://mail.python.org/mailman/listinfo/matplotlib-devel">Matplotlib
mailing list</a> — where we will thank you warmly.</p>
</div>
<div class="section" id="in-detail">
<h3>In detail<a class="headerlink" href="#in-detail" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Tell git who you are so it can label the commits you've
made:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git config --global user.email you@yourdomain.example.com
git config --global user.name <span class="s2">&quot;Your Name Comes Here&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">If you don't already have one, clone a copy of the
<a class="reference external" href="http://matplotlib.org">Matplotlib</a> repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone git://github.com/matplotlib/matplotlib.git
<span class="nb">cd</span> matplotlib
</pre></div>
</div>
</li>
<li><p class="first">Make a 'feature branch'.  This will be where you work on
your bug fix.  It's nice and safe and leaves you with
access to an unmodified copy of the code in the main
branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch the-fix-im-thinking-of
git checkout the-fix-im-thinking-of
</pre></div>
</div>
</li>
<li><p class="first">Do some edits, and commit them as you go:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># hack, hack, hack</span>
<span class="c1"># Tell git about any new files you&#39;ve made</span>
git add somewhere/tests/test_my_bug.py
<span class="c1"># commit work in progress as you go</span>
git commit -am <span class="s1">&#39;BF - added tests for Funny bug&#39;</span>
<span class="c1"># hack hack, hack</span>
git commit -am <span class="s1">&#39;BF - added fix for Funny bug&#39;</span>
</pre></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">-am</span></code> options to <code class="docutils literal notranslate"><span class="pre">commit</span></code>. The <code class="docutils literal notranslate"><span class="pre">m</span></code> flag just
signals that you're going to type a message on the command
line.  The <code class="docutils literal notranslate"><span class="pre">a</span></code> flag — you can just take on faith —
or see <a class="reference external" href="http://gitready.com/beginner/2009/01/18/the-staging-area.html">why the -a flag?</a>.</p>
</li>
<li><p class="first">When you have finished, check you have committed all your
changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
</pre></div>
</div>
</li>
<li><p class="first">Finally, make your commits into patches.  You want all the
commits since you branched from the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git format-patch -M -C master
</pre></div>
</div>
<p>You will now have several files named for the commits:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0001-BF-added-tests-for-Funny-bug.patch
0002-BF-added-fix-for-Funny-bug.patch
</pre></div>
</div>
<p>Send these files to the <a class="reference external" href="https://mail.python.org/mailman/listinfo/matplotlib-devel">Matplotlib mailing list</a>.</p>
</li>
</ol>
<p>When you are done, to switch back to the main copy of the
code, just return to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout master
</pre></div>
</div>
</div>
</div>
<div class="section" id="moving-from-patching-to-development">
<h2>Moving from patching to development<a class="headerlink" href="#moving-from-patching-to-development" title="Permalink to this headline">¶</a></h2>
<p>If you find you have done some patches, and you have one or
more feature branches, you will probably want to switch to
development mode.  You can do this with the repository you
have.</p>
<p>Fork the <a class="reference external" href="http://matplotlib.org">Matplotlib</a> repository on github — <a class="reference internal" href="forking_hell.html#forking"><span class="std std-ref">Making your own copy (fork) of Matplotlib</span></a>.
Then:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># checkout and refresh master branch from main repo</span>
git checkout master
git pull origin master
<span class="c1"># rename pointer to main repository to &#39;upstream&#39;</span>
git remote rename origin upstream
<span class="c1"># point your repo to default read / write to your fork on github</span>
git remote add origin git@github.com:your-user-name/matplotlib.git
<span class="c1"># push up any branches you&#39;ve made and want to keep</span>
git push origin the-fix-im-thinking-of
</pre></div>
</div>
<p>Then you can, if you want, follow the
<a class="reference internal" href="development_workflow.html#development-workflow"><span class="std std-ref">Development workflow</span></a>.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Jul 12, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.
Doc version v3.3.0rc1-229-g97785f2e6.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>