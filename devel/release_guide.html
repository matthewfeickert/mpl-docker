
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Release Guide &#8212; Matplotlib 3.3.0rc1+229.g97785f2e6 documentation</title>
    <link rel="stylesheet" href="../_static/mpl.css?v3.3.0rc1-229-g97785f2e6" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.3.0rc1+229.g97785f2e6 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Minimum Version of Dependencies Policy" href="min_dep_policy.html" />
    <link rel="prev" title="Pull request guidelines" href="coding_guide.html" />
<link rel="top" title="Matplotlib 3.3.0rc1+229.g97785f2e6 documentation" href="#" />
    <link rel="canonical" href="https://matplotlib.org/devdocs/devel/release_guide.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>

<div id="unreleased-message">
    You are reading documentation for the unreleased version of Matplotlib.
    <a href="https://matplotlib.org/search.html?q=Release%20Guide&amp;check_keywords=yes&amp;area=default">
        Try searching for the released version of this page instead?
    </a>
</div>

<!--
<div id="annc-banner">

</div>
-->

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px; position: relative;">
    <a href="../index.html">
        <div style="float: left; position: absolute; width: 496px; bottom: 0; padding-bottom: 24px"><span style="float: right; color: #789; background: white">Version 3.3.0rc1+229.g97785f2e6</span></div>
        <img src="../_static/logo2_compressed.svg" height="125px" border="0" alt="matplotlib"/></a>

    <!-- The "Fork me on github" ribbon -->
    <div id="forkongithub"><a href="https://github.com/matplotlib/matplotlib">Fork me on GitHub</a></div>
    </div>

    <nav class="main-nav">
        <ul>
            <li><a href="../users/installing.html">Installation</a></li>
            <li><a href="../contents.html">Documentation</a></li>
            <li><a href="../gallery/index.html">Examples</a></li>
            <li><a href="../tutorials/index.html">Tutorials</a></li>
            <li><a href="index.html">Contributing</a></li>
            <li class="nav-right">
                <form class="search" action="../search.html" method="get">
                <input type="text" name="q" aria-labelledby="searchlabel" placeholder="Search"/>
                </form>
            </li>
        </ul>
     </nav>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="min_dep_policy.html" title="Minimum Version of Dependencies Policy"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="coding_guide.html" title="Pull request guidelines"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">The Matplotlib Developers' Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Release Guide</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Release Guide</a><ul>
<li><a class="reference internal" href="#all-releases">All Releases</a><ul>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#github-stats">GitHub Stats</a></li>
<li><a class="reference internal" href="#update-and-validate-the-docs">Update and Validate the Docs</a><ul>
<li><a class="reference internal" href="#merge-doc-branch">Merge <code class="docutils literal notranslate"><span class="pre">*-doc</span></code> branch</a></li>
<li><a class="reference internal" href="#update-what-s-new-and-api-changes">Update &quot;What's New&quot; and &quot;API changes&quot;</a></li>
<li><a class="reference internal" href="#verify-that-docs-build">Verify that docs build</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-release-commit-and-tag">Create release commit and tag</a></li>
<li><a class="reference internal" href="#release-management-doi">Release Management / DOI</a></li>
<li><a class="reference internal" href="#building-binaries">Building binaries</a></li>
<li><a class="reference internal" href="#make-distribution-and-upload-to-pypi">Make distribution and upload to PyPI</a></li>
<li><a class="reference internal" href="#build-and-deploy-documentation">Build and Deploy Documentation</a></li>
<li><a class="reference internal" href="#announcing">Announcing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">The Matplotlib Developers' Guide</a><ul>
      <li>Previous: <a href="coding_guide.html" title="previous chapter">Pull request guidelines</a></li>
      <li>Next: <a href="min_dep_policy.html" title="next chapter">Minimum Version of Dependencies Policy</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div id="sidebar-pagesource" role="note" aria-label="source link"
    style="margin-top: 1.5em; padding-top: 0.1em; border-top: 1px solid #86989b">
  <a href="../_sources/devel/release_guide.rst.txt"
     style="color: #c0c0c0" rel="nofollow">Show Page Source</a>
  </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="release-guide">
<span id="id1"></span><h1>Release Guide<a class="headerlink" href="#release-guide" title="Permalink to this headline">¶</a></h1>
<div class="admonition-this-document-is-only-relevant-for-matplotlib-release-managers admonition">
<p class="first admonition-title">This document is only relevant for Matplotlib release managers.</p>
<p class="last">A guide for developers who are doing a Matplotlib release.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This assumes that a read-only remote for the canonical repository is
<code class="docutils literal notranslate"><span class="pre">remote</span></code> and a read/write remote is <code class="docutils literal notranslate"><span class="pre">DANGER</span></code></p>
</div>
<div class="section" id="all-releases">
<h2>All Releases<a class="headerlink" href="#all-releases" title="Permalink to this headline">¶</a></h2>
<div class="section" id="testing">
<span id="release-testing"></span><h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>We use <a class="reference external" href="https://travis-ci.org/matplotlib/matplotlib">Travis CI</a> for
continuous integration.  When preparing for a release, the final
tagged commit should be tested locally before it is uploaded:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest -n <span class="m">8</span> .
</pre></div>
</div>
<p>In addition the following test should be run and manually inspected:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python tools/memleak.py agg <span class="m">1000</span> agg.pdf
</pre></div>
</div>
<p>In addition the following should be run and manually inspected, but
is currently broken:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">pushd</span> examples/tests/
python backend_driver_sgskip.py
<span class="nb">popd</span>
</pre></div>
</div>
</div>
<div class="section" id="github-stats">
<span id="release-ghstats"></span><h3>GitHub Stats<a class="headerlink" href="#github-stats" title="Permalink to this headline">¶</a></h3>
<p>We automatically extract GitHub issue, PRs, and authors from GitHub via the
API.  Copy the current <code class="file docutils literal notranslate"><span class="pre">doc/users/github_stats.rst</span></code> to
<code class="file docutils literal notranslate"><span class="pre">doc/users/prev_whats_new/github_stats_X.Y.Z.rst</span></code>, changing the link
target at the top of the file, and removing the &quot;Previous GitHub Stats&quot; section
at the end.</p>
<p>For example, when updating from v3.2.0 to v3.2.1:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp doc/users/github_stats.rst doc/users/prev_whats_new/github_stats_3.2.0.rst
<span class="nv">$EDITOR</span> doc/users/prev_whats_new/github_stats_3.2.0.rst
<span class="c1"># Change contents as noted above.</span>
git add doc/users/prev_whats_new/github_stats_3.2.0.rst
</pre></div>
</div>
<p>Then re-generate the updated stats:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python tools/github_stats.py --since-tag v3.2.0 --milestone<span class="o">=</span>v3.2.1 --project <span class="s1">&#39;matplotlib/matplotlib&#39;</span> --links &gt; doc/users/github_stats.rst
</pre></div>
</div>
<p>Review and commit changes.  Some issue/PR titles may not be valid reST (the
most common issue is <code class="docutils literal notranslate"><span class="pre">*</span></code> which is interpreted as unclosed markup).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Make sure you authenticate against the GitHub API.  If you
do not you will get blocked by GitHub for going over the API rate
limits.  You can authenticate in one of two ways:</p>
<ul class="last simple">
<li>using the <code class="docutils literal notranslate"><span class="pre">keyring</span></code> package; <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">keyring</span></code> and then when
running the stats script, you will be prompted for user name and password,
that will be stored in your system keyring, or,</li>
<li>using a personal access token; generate a new token <a class="reference external" href="https://github.com/settings/tokens">on this GitHub page</a> with the <code class="docutils literal notranslate"><span class="pre">repo:public_repo</span></code>
scope and place the token in <code class="file docutils literal notranslate"><span class="pre">~/.ghoauth</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="update-and-validate-the-docs">
<span id="release-chkdocs"></span><h3>Update and Validate the Docs<a class="headerlink" href="#update-and-validate-the-docs" title="Permalink to this headline">¶</a></h3>
<div class="section" id="merge-doc-branch">
<h4>Merge <code class="docutils literal notranslate"><span class="pre">*-doc</span></code> branch<a class="headerlink" href="#merge-doc-branch" title="Permalink to this headline">¶</a></h4>
<p>Merge the most recent 'doc' branch (e.g., <code class="docutils literal notranslate"><span class="pre">v3.2.0-doc</span></code>) into the branch you
are going to tag on and delete the doc branch on GitHub.</p>
</div>
<div class="section" id="update-what-s-new-and-api-changes">
<h4>Update &quot;What's New&quot; and &quot;API changes&quot;<a class="headerlink" href="#update-what-s-new-and-api-changes" title="Permalink to this headline">¶</a></h4>
<p>Before tagging major and minor releases, the &quot;what's new&quot; and &quot;API changes&quot;
listings should be updated.  This is not needed for micro releases.</p>
<p>For the &quot;what's new&quot;,</p>
<blockquote>
<div><ol class="arabic simple">
<li>copy the current content to a file in <code class="file docutils literal notranslate"><span class="pre">doc/users/prev_whats_new</span></code></li>
<li>merge all of the files in <code class="file docutils literal notranslate"><span class="pre">doc/users/next_whats_new/</span></code> into
<code class="file docutils literal notranslate"><span class="pre">doc/users/whats_new.rst</span></code> and delete the individual files</li>
<li>comment out the next what's new glob at the top</li>
</ol>
</div></blockquote>
<p>Similarly for the &quot;API changes&quot;,</p>
<blockquote>
<div><ol class="arabic simple">
<li>copy the current api changes to a file is <code class="file docutils literal notranslate"><span class="pre">doc/api/prev_api_changes</span></code></li>
<li>merge all of the files in the most recent <code class="file docutils literal notranslate"><span class="pre">doc/api/next_api_changes</span></code>
into <code class="file docutils literal notranslate"><span class="pre">doc/api/api_changes.rst</span></code></li>
<li>comment out the most recent API changes at the top.</li>
</ol>
</div></blockquote>
<p>In both cases step 3 will have to be un-done right after the release.</p>
</div>
<div class="section" id="verify-that-docs-build">
<h4>Verify that docs build<a class="headerlink" href="#verify-that-docs-build" title="Permalink to this headline">¶</a></h4>
<p>Finally, make sure that the docs build cleanly</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make -Cdoc <span class="nv">O</span><span class="o">=</span>-j<span class="k">$(</span>nproc<span class="k">)</span> html latexpdf
</pre></div>
</div>
<p>After the docs are built, check that all of the links, internal and external,
are still valid.  We use <code class="docutils literal notranslate"><span class="pre">linkchecker</span></code> for this, which has not been ported to
Python3 yet.  You will need to create a Python2 environment with
<code class="docutils literal notranslate"><span class="pre">requests==2.9.0</span></code> and linkchecker</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -p /tmp/lnkchk <span class="nv">python</span><span class="o">=</span><span class="m">2</span> <span class="nv">requests</span><span class="o">==</span><span class="m">2</span>.9.0
<span class="nb">source</span> activate /tmp/lnkchk
pip install linkchecker
<span class="nb">pushd</span> doc/build/html
linkchecker index.html --check-extern
<span class="nb">popd</span>
</pre></div>
</div>
<p>Address any issues which may arise.  The internal links are checked on Circle
CI, this should only flag failed external links.</p>
</div>
</div>
<div class="section" id="create-release-commit-and-tag">
<span id="release-tag"></span><h3>Create release commit and tag<a class="headerlink" href="#create-release-commit-and-tag" title="Permalink to this headline">¶</a></h3>
<p>To create the tag, first create an empty commit with a very terse set of the release notes
in the commit message</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit --allow-empty
</pre></div>
</div>
<p>and then create a signed, annotated tag with the same text in the body
message</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git tag -a -s v2.0.0
</pre></div>
</div>
<p>which will prompt you for your GPG key password and an annotation.  For pre
releases it is important to follow <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440"><strong>PEP 440</strong></a> so that the build artifacts will
sort correctly in PyPI.</p>
<p>To prevent issues with any down-stream builders which download the
tarball from GitHub it is important to move all branches away from the commit
with the tag <a class="footnote-reference" href="#id3" id="id2">[1]</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit --allow-empty
</pre></div>
</div>
<p>Finally, push the tag to GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push DANGER master v2.0.0
</pre></div>
</div>
<p>Congratulations, the scariest part is done!</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><p class="first">The tarball that is provided by GitHub is produced using <a class="reference external" href="https://git-scm.com/docs/git-archive">git
archive</a>.  We use
<a class="reference external" href="https://github.com/warner/python-versioneer">versioneer</a>
which uses a format string in
<code class="file docutils literal notranslate"><span class="pre">lib/matplotlib/_version.py</span></code> to have <code class="docutils literal notranslate"><span class="pre">git</span></code> insert a
list of references to exported commit (see
<code class="file docutils literal notranslate"><span class="pre">.gitattributes</span></code> for the configuration).  This string is
then used by <code class="docutils literal notranslate"><span class="pre">versioneer</span></code> to produce the correct version,
based on the git tag, when users install from the tarball.
However, if there is a branch pointed at the tagged commit,
then the branch name will also be included in the tarball.
When the branch eventually moves, anyone how checked the hash
of the tarball before the branch moved will have an incorrect
hash.</p>
<p>To generate the file that GitHub does use</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>git archive v2.0.0 -o matplotlib-2.0.0.tar.gz --prefix<span class="o">=</span>matplotlib-2.0.0/
</pre></div>
</div>
</td></tr>
</tbody>
</table>
<p>If this is a final release, also create a 'doc' branch (this is not
done for pre-releases):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch v2.0.0-doc
git push DANGER v2.0.0-doc
</pre></div>
</div>
<p>and if this is a major or minor release, also create a bug-fix branch (a micro
release will be cut from this branch):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git branch v2.0.x
</pre></div>
</div>
<p>On this branch un-comment the globs from <a class="reference internal" href="#release-chkdocs"><span class="std std-ref">Update and Validate the Docs</span></a>.  And then</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push DANGER v2.0.x
</pre></div>
</div>
</div>
<div class="section" id="release-management-doi">
<span id="release-doi"></span><h3>Release Management / DOI<a class="headerlink" href="#release-management-doi" title="Permalink to this headline">¶</a></h3>
<p>Via the <a class="reference external" href="https://github.com/matplotlib/matplotlib/releases">GitHub UI</a>, turn the newly
pushed tag into a release.  If this is a pre-release remember to mark
it as such.</p>
<p>For final releases, also get the DOI from <a class="reference external" href="https://zenodo.org/">zenodo</a> (which will automatically produce one once
the tag is pushed).  Add the doi post-fix and version to the dictionary in
<code class="file docutils literal notranslate"><span class="pre">tools/cache_zenodo_svg.py</span></code> and run the script.</p>
<p>This will download the new svg to the <code class="file docutils literal notranslate"><span class="pre">_static</span></code> directory in the
docs and edit <code class="file docutils literal notranslate"><span class="pre">doc/citing.rst</span></code>.  Commit the new svg, the change
to <code class="file docutils literal notranslate"><span class="pre">tools/cache_zenodo_svg.py</span></code>, and the changes to
<code class="file docutils literal notranslate"><span class="pre">doc/citing.rst</span></code> to the VER-doc branch and push to GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout v2.0.0-doc
<span class="nv">$EDITOR</span> tools/cache_zenodo_svg.py
python tools/cache_zenodo_svg.py
<span class="nv">$EDITOR</span> doc/citing.html
git commit -a
git push DANGER v2.0.0-doc:v2.0.0-doc
</pre></div>
</div>
</div>
<div class="section" id="building-binaries">
<span id="release-bld-bin"></span><h3>Building binaries<a class="headerlink" href="#building-binaries" title="Permalink to this headline">¶</a></h3>
<p>We distribute macOS, Windows, and many Linux wheels as well as a source tarball
via PyPI.  Most builders should trigger automatically once the tag is pushed to
GitHub:</p>
<ul class="simple">
<li>Mac and manylinux wheels are built on Travis CI.  Builds are triggered by the
GitHub Action defined in <code class="file docutils literal notranslate"><span class="pre">.github/workflows/wheels.yml</span></code>, and wheels
will be available at the site defined in the <a class="reference external" href="https://github.com/MacPython/matplotlib-wheels">matplotlib-wheels repo</a>.</li>
<li>Windows wheels are built by Christoph Gohlke automatically and will be
<a class="reference external" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#matplotlib">available at his site</a> once built.</li>
<li>The auto-tick bot should open a pull request into the <a class="reference external" href="https://github.com/conda-forge/matplotlib-feedstock">conda-forge feedstock</a>.  Review and merge
(if you have the power to).</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Because this is automated, it is extremely important to bump all branches
away from the tag as discussed in <a class="reference internal" href="#release-tag"><span class="std std-ref">Create release commit and tag</span></a>.</p>
</div>
<p>If this is a final release the following downstream packagers should be contacted:</p>
<ul class="simple">
<li>Debian</li>
<li>Fedora</li>
<li>Arch</li>
<li>Gentoo</li>
<li>Macports</li>
<li>Homebrew</li>
<li>Continuum</li>
<li>Enthought</li>
</ul>
<p>This can be done ahead of collecting all of the binaries and uploading to pypi.</p>
</div>
<div class="section" id="make-distribution-and-upload-to-pypi">
<span id="release-upload-bin"></span><h3>Make distribution and upload to PyPI<a class="headerlink" href="#make-distribution-and-upload-to-pypi" title="Permalink to this headline">¶</a></h3>
<p>Once you have collected all of the wheels (expect this to take about a
day), generate the tarball</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout v2.0.0
git clean -xfd
python setup.py sdist
</pre></div>
</div>
<p>and copy all of the wheels into <code class="file docutils literal notranslate"><span class="pre">dist</span></code> directory.  First, check
that the dist files are OK</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine check dist/*
</pre></div>
</div>
<p>and then use <code class="docutils literal notranslate"><span class="pre">twine</span></code> to upload all of the files to pypi</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine upload -s dist/matplotlib*tar.gz
twine upload dist/*whl
</pre></div>
</div>
<p>Congratulations, you have now done the second scariest part!</p>
</div>
<div class="section" id="build-and-deploy-documentation">
<span id="release-docs"></span><h3>Build and Deploy Documentation<a class="headerlink" href="#build-and-deploy-documentation" title="Permalink to this headline">¶</a></h3>
<p>To build the documentation you must have the tagged version installed, but
build the docs from the <code class="docutils literal notranslate"><span class="pre">ver-doc</span></code> branch.  An easy way to arrange this is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install matplotlib
pip install -r requirements/doc/doc-requirements.txt
git checkout v2.0.0-doc
git clean -xfd
make -Cdoc <span class="nv">O</span><span class="o">=</span>-j<span class="k">$(</span>nproc<span class="k">)</span> html latexpdf <span class="nv">LATEXMKOPTS</span><span class="o">=</span><span class="s2">&quot;-silent -f&quot;</span>
</pre></div>
</div>
<p>which will build both the html and pdf version of the documentation.</p>
<p>The built documentation exists in the <a class="reference external" href="https://github.com/matplotlib/matplotlib.github.com/">matplotlib.github.com</a> repository.
Pushing changes to master automatically updates the website.</p>
<p>The documentation is organized by version.  At the root of the tree is always
the documentation for the latest stable release.  Under that, there are
directories containing the documentation for older versions.  The documentation
for current master is built on Circle CI and pushed to the <a class="reference external" href="https://github.com/matplotlib/devdocs/">devdocs</a> repository.  These are available at
<a class="reference external" href="https://matplotlib.org/devdocs">matplotlib.org/devdocs</a>.</p>
<p>Assuming you have this repository checked out in the same directory as
matplotlib</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ../matplotlib.github.com
mkdir <span class="m">2</span>.0.0
rsync -a ../matplotlib/doc/build/html/* <span class="m">2</span>.0.0
cp ../matplotlib/doc/build/latex/Matplotlib.pdf <span class="m">2</span>.0.0
</pre></div>
</div>
<p>which will copy the built docs over.  If this is a final release, also
replace the top-level docs</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rsync -a <span class="m">2</span>.0.0/* ./
</pre></div>
</div>
<p>You will need to manually edit <code class="file docutils literal notranslate"><span class="pre">versions.html</span></code> to show the last
3 tagged versions.  Now commit and push everything to GitHub</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git add *
git commit -a -m <span class="s1">&#39;Updating docs for v2.0.0&#39;</span>
git push DANGER master
</pre></div>
</div>
<p>Congratulations you have now done the third scariest part!</p>
<p>If you have access, clear the Cloudflare caches.</p>
<p>It typically takes about 5-10 minutes for GitHub to process the push
and update the live web page (remember to clear your browser cache).</p>
</div>
<div class="section" id="announcing">
<h3>Announcing<a class="headerlink" href="#announcing" title="Permalink to this headline">¶</a></h3>
<p>The final step is to announce the release to the world.  A short
version of the release notes along with acknowledgments should be sent to</p>
<ul class="simple">
<li><a class="reference external" href="mailto:matplotlib-users&#37;&#52;&#48;python&#46;org">matplotlib-users<span>&#64;</span>python<span>&#46;</span>org</a></li>
<li><a class="reference external" href="mailto:matplotlib-devel&#37;&#52;&#48;python&#46;org">matplotlib-devel<span>&#64;</span>python<span>&#46;</span>org</a></li>
<li><a class="reference external" href="mailto:matplotlib-announce&#37;&#52;&#48;python&#46;org">matplotlib-announce<span>&#64;</span>python<span>&#46;</span>org</a></li>
</ul>
<p>For final releases announcements should also be sent to the
numpy/scipy/scikit-image mailing lists.</p>
<p>In addition, announcements should be made on social networks (twitter
via the <code class="docutils literal notranslate"><span class="pre">&#64;matplotlib</span></code> account, any other via personal accounts).
<a class="reference external" href="https://numfocus.org/">NumFOCUS</a> should be contacted for
inclusion in their newsletter.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
    <div class="footer">
    &copy; Copyright 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012 - 2020 The Matplotlib development team.
<br />
    Last updated on Jul 12, 2020.
Created using
<a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.
Doc version v3.3.0rc1-229-g97785f2e6.
    </div>
</footer>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55954603-1', 'auto');
        ga('send', 'pageview');

</script>
  </body>
</html>